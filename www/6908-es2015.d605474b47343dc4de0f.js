(self.webpackChunkhub=self.webpackChunkhub||[]).push([[6908],{76908:function(e,i,t){"use strict";t.r(i),t.d(i,{IncidentFormPageModule:function(){return Ee}});var n=t(38583),o=t(90665),a=t(47823),s=t(10649),r=t(64762),l=t(92340),c=t(29081),u=t(91681),m=t(79044),_=t(10639),p=t(89985),d=t(49481),h=t(84267),g=t(80513);function f(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-button",22),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onSelectTabItem(i.val)}),_.TgZ(1,"p"),_._uU(2),_.qZA(),_._UZ(3,"img",23),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.Q6J("disabled",e.tabDisable),_.xp6(2),_.Oqu(e.val),_.xp6(1),_.s9C("src",i.imagePath+"add.png",_.LSH)}}function Z(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2,"Who witnessed the near miss ? :"),_.qZA(),_.TgZ(3,"ion-item",36),_.NdJ("click",function(){return _.CHM(e),_.oxw(3).onOpenIncidentModal()}),_._UZ(4,"ion-input",37),_.TgZ(5,"ion-buttons",38),_.TgZ(6,"ion-button",39),_._UZ(7,"ion-icon",40),_.qZA(),_.qZA(),_.qZA(),_.TgZ(8,"p",9),_._uU(9," Possible consequence under different circumstances : "),_.qZA(),_._UZ(10,"ion-input",41),_.qZA()}}function v(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",11),_.TgZ(1,"div",24),_.TgZ(2,"p"),_._uU(3),_.qZA(),_.TgZ(4,"img",25),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onDeSelectTabItem(i.val)}),_.qZA(),_.qZA(),_._UZ(5,"hr"),_.TgZ(6,"div",26),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onProgressBar(i,"Incident")}),_.TgZ(7,"ion-radio-group",27),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onInput(i,"Incident")}),_.TgZ(8,"ion-row"),_.TgZ(9,"ion-col",28),_.TgZ(10,"ion-item",29),_.TgZ(11,"ion-label"),_._uU(12,"Actual"),_.qZA(),_._UZ(13,"ion-radio",30),_.qZA(),_.qZA(),_.TgZ(14,"ion-col",28),_.TgZ(15,"ion-item",29),_.TgZ(16,"ion-label"),_._uU(17,"Near Miss"),_.qZA(),_._UZ(18,"ion-radio",31),_.qZA(),_.qZA(),_.TgZ(19,"ion-col",32),_.TgZ(20,"ion-item",29),_.TgZ(21,"ion-label",33),_._uU(22,"Serious potential incident (SPI)"),_.qZA(),_._UZ(23,"ion-radio",34),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(24,Z,11,0,"div",35),_.qZA(),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.xp6(3),_.Oqu(e.val),_.xp6(1),_.s9C("src",i.imagePath+"minus.png",_.LSH),_.xp6(2),_.Q6J("formGroup",i.incidentForm),_.xp6(18),_.Q6J("ngIf","Near Miss"==i.incidentForm.value.incident_value)}}function T(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"ion-button",44),_.NdJ("click",function(i){return _.CHM(e),_.oxw(3).onPhotoGraphy(i,1)}),_._uU(2,"Upload Image "),_.qZA(),_.qZA()}}function A(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"input",45),_.NdJ("change",function(i){return _.CHM(e),_.oxw(3).onPhotoGraphy(i,2)}),_.qZA(),_.qZA()}}function q(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-slide"),_.TgZ(1,"ion-grid"),_.TgZ(2,"ion-row"),_.TgZ(3,"ion-col",47),_.TgZ(4,"img",48),_.NdJ("click",function(){const i=_.CHM(e).$implicit;return _.oxw(4).onOpenPreview(i)}),_.qZA(),_.qZA(),_.TgZ(5,"ion-col",49),_.TgZ(6,"p",9),_.TgZ(7,"ion-icon",50),_.NdJ("click",function(){const i=_.CHM(e).index;return _.oxw(4).onImageDelete(i,"photoGraphy")}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&e){const e=i.$implicit;_.xp6(4),_.Q6J("src",e,_.LSH)}}function b(e,i){if(1&e&&(_.TgZ(0,"ion-slides",46),_.YNc(1,q,8,1,"ion-slide",16),_.qZA()),2&e){const e=_.oxw(3);_.xp6(1),_.Q6J("ngForOf",e.photoGraphy)}}function x(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",42),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onProgressBar(i,"Photography")}),_.TgZ(1,"div",24),_.TgZ(2,"p"),_._uU(3),_.qZA(),_.TgZ(4,"img",25),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onDeSelectTabItem(i.val)}),_.qZA(),_.qZA(),_._UZ(5,"hr"),_.TgZ(6,"ion-row"),_.TgZ(7,"ion-col",14),_.YNc(8,T,3,0,"div",35),_.YNc(9,A,2,0,"div",35),_.qZA(),_.qZA(),_.YNc(10,b,2,1,"ion-slides",43),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.Q6J("formGroup",i.photoGraphyForm),_.xp6(3),_.Oqu(e.val),_.xp6(1),_.s9C("src",i.imagePath+"minus.png",_.LSH),_.xp6(4),_.Q6J("ngIf","cordova"===i.globalService.platform),_.xp6(1),_.Q6J("ngIf","browser"===i.globalService.platform),_.xp6(1),_.Q6J("ngIf",i.photoGraphy.length>0)}}function y(e,i){1&e&&(_.TgZ(0,"div",66),_.TgZ(1,"p",67),_._uU(2," Other Witness Details "),_.qZA(),_.TgZ(3,"p",9),_._uU(4," Name : "),_.qZA(),_._UZ(5,"ion-input",68),_.TgZ(6,"p",9),_._uU(7," Mobile No : "),_.qZA(),_._UZ(8,"ion-input",69),_.TgZ(9,"p",9),_._uU(10," Email id : "),_.qZA(),_._UZ(11,"ion-input",70),_.qZA())}function F(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"ion-button",44),_.NdJ("click",function(i){return _.CHM(e),_.oxw(4).onAlcoholImage(i,1)}),_._uU(2,"Upload Image "),_.qZA(),_.qZA()}}function w(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"input",71),_.NdJ("change",function(i){return _.CHM(e),_.oxw(4).onAlcoholImage(i,2)}),_.qZA(),_.qZA()}}function C(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-slide"),_.TgZ(1,"ion-grid"),_.TgZ(2,"ion-row"),_.TgZ(3,"ion-col",47),_.TgZ(4,"img",48),_.NdJ("click",function(){const i=_.CHM(e).$implicit;return _.oxw(5).onOpenPreview(i)}),_.qZA(),_.qZA(),_.TgZ(5,"ion-col",49),_.TgZ(6,"p",9),_.TgZ(7,"ion-icon",50),_.NdJ("click",function(){const i=_.CHM(e).index;return _.oxw(5).onImageDelete(i,"alcohalImages")}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&e){const e=i.$implicit;_.xp6(4),_.Q6J("src",e,_.LSH)}}function I(e,i){if(1&e&&(_.TgZ(0,"ion-slides",46),_.YNc(1,C,8,1,"ion-slide",16),_.qZA()),2&e){const e=_.oxw(4);_.xp6(1),_.Q6J("ngForOf",e.alcohalImages)}}function N(e,i){if(1&e&&(_.TgZ(0,"div"),_.YNc(1,F,3,0,"div",35),_.YNc(2,w,2,0,"div",35),_.YNc(3,I,2,1,"ion-slides",43),_.qZA()),2&e){const e=_.oxw(3);_.xp6(1),_.Q6J("ngIf","cordova"===e.globalService.platform),_.xp6(1),_.Q6J("ngIf","browser"===e.globalService.platform),_.xp6(1),_.Q6J("ngIf",e.alcohalImages.length>0)}}function D(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-button",44),_.NdJ("click",function(i){return _.CHM(e),_.oxw(5).onDrugTestImage(i,1)}),_._uU(1,"Upload Image "),_.qZA()}}function U(e,i){if(1&e&&(_.TgZ(0,"div"),_.YNc(1,D,2,0,"ion-button",72),_.qZA()),2&e){const e=_.oxw(4);_.xp6(1),_.Q6J("ngIf","Yes"==e.incidentDesForm.value.drug_test_completed)}}function k(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"input",73),_.NdJ("change",function(i){return _.CHM(e),_.oxw(4).onDrugTestImage(i,2)}),_.qZA(),_.qZA()}}function P(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-slide"),_.TgZ(1,"ion-grid"),_.TgZ(2,"ion-row"),_.TgZ(3,"ion-col",47),_.TgZ(4,"img",48),_.NdJ("click",function(){const i=_.CHM(e).$implicit;return _.oxw(5).onOpenPreview(i)}),_.qZA(),_.qZA(),_.TgZ(5,"ion-col",49),_.TgZ(6,"p",9),_.TgZ(7,"ion-icon",50),_.NdJ("click",function(){const i=_.CHM(e).index;return _.oxw(5).onImageDelete(i,"drugTestImages")}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&e){const e=i.$implicit;_.xp6(4),_.Q6J("src",e,_.LSH)}}function O(e,i){if(1&e&&(_.TgZ(0,"ion-slides",46),_.YNc(1,P,8,1,"ion-slide",16),_.qZA()),2&e){const e=_.oxw(4);_.xp6(1),_.Q6J("ngForOf",e.drugTestImages)}}function j(e,i){if(1&e&&(_.TgZ(0,"div"),_.YNc(1,U,2,1,"div",35),_.YNc(2,k,2,0,"div",35),_.YNc(3,O,2,1,"ion-slides",43),_.qZA()),2&e){const e=_.oxw(3);_.xp6(1),_.Q6J("ngIf","cordova"===e.globalService.platform),_.xp6(1),_.Q6J("ngIf","browser"===e.globalService.platform),_.xp6(1),_.Q6J("ngIf",e.drugTestImages.length>0)}}function J(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"ion-button",44),_.NdJ("click",function(i){return _.CHM(e),_.oxw(4).onReturnToDutyImage(i,1)}),_._uU(2,"Upload Image "),_.qZA(),_.qZA()}}function M(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"input",74),_.NdJ("change",function(i){return _.CHM(e),_.oxw(4).onReturnToDutyImage(i,2)}),_.qZA(),_.qZA()}}function S(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-slide"),_.TgZ(1,"ion-grid"),_.TgZ(2,"ion-row"),_.TgZ(3,"ion-col",47),_.TgZ(4,"img",48),_.NdJ("click",function(){const i=_.CHM(e).$implicit;return _.oxw(5).onOpenPreview(i)}),_.qZA(),_.qZA(),_.TgZ(5,"ion-col",49),_.TgZ(6,"p",9),_.TgZ(7,"ion-icon",50),_.NdJ("click",function(){const i=_.CHM(e).index;return _.oxw(5).onImageDelete(i,"alterDutyImages")}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&e){const e=i.$implicit;_.xp6(4),_.Q6J("src",e,_.LSH)}}function Y(e,i){if(1&e&&(_.TgZ(0,"ion-slides",46),_.YNc(1,S,8,1,"ion-slide",16),_.qZA()),2&e){const e=_.oxw(4);_.xp6(1),_.Q6J("ngForOf",e.alterDutyImages)}}function L(e,i){if(1&e&&(_.TgZ(0,"div"),_.TgZ(1,"ion-text",53),_._uU(2,"* Please take a photo or upload the Cerificate of Copacity (COC). "),_.qZA(),_.YNc(3,J,3,0,"div",35),_.YNc(4,M,2,0,"div",35),_.YNc(5,Y,2,1,"ion-slides",43),_.qZA()),2&e){const e=_.oxw(3);_.xp6(3),_.Q6J("ngIf","cordova"===e.globalService.platform),_.xp6(1),_.Q6J("ngIf","browser"===e.globalService.platform),_.xp6(1),_.Q6J("ngIf",e.alterDutyImages.length>0)}}function H(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",51),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onProgressBar(i,"Incident Description")}),_.TgZ(1,"div",24),_.TgZ(2,"p"),_._uU(3),_.qZA(),_.TgZ(4,"img",25),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onDeSelectTabItem(i.val)}),_.qZA(),_.qZA(),_._UZ(5,"hr"),_.TgZ(6,"div",52),_.TgZ(7,"p",9),_._uU(8," Description of incident : "),_.qZA(),_.TgZ(9,"ion-text",53),_._uU(10,"( Note : You must not use any personal details or names)"),_.qZA(),_.TgZ(11,"ion-input",54),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onInput(i,"Incident Description")}),_.qZA(),_.TgZ(12,"p",9),_._uU(13,"Immediate action taken : "),_.qZA(),_.TgZ(14,"ion-input",55),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onInput(i,"Incident Description")}),_.qZA(),_.TgZ(15,"p",9),_._uU(16,"What could have been done differently ? :"),_.qZA(),_._UZ(17,"ion-input",56),_.TgZ(18,"p",9),_._uU(19,"Was there any Witnesses of the incident ? :"),_.qZA(),_.TgZ(20,"ion-item",36),_.NdJ("click",function(){return _.CHM(e),_.oxw(2).onOpenIncDesModal()}),_._UZ(21,"ion-input",57),_.TgZ(22,"ion-buttons",38),_.TgZ(23,"ion-button",39),_._UZ(24,"ion-icon",40),_.qZA(),_.qZA(),_.qZA(),_.YNc(25,y,12,0,"div",58),_.TgZ(26,"ion-radio-group",59),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onAlcohalTestSelect(i)}),_.TgZ(27,"ion-item",29),_.TgZ(28,"ion-label"),_._uU(29,"Alcohol test completed :"),_.qZA(),_.qZA(),_.TgZ(30,"ion-row"),_.TgZ(31,"ion-col",60),_.TgZ(32,"ion-item",29),_.TgZ(33,"ion-label"),_._uU(34,"Yes"),_.qZA(),_._UZ(35,"ion-radio",61),_.qZA(),_.qZA(),_.TgZ(36,"ion-col",60),_.TgZ(37,"ion-item",29),_.TgZ(38,"ion-label"),_._uU(39,"No"),_.qZA(),_._UZ(40,"ion-radio",62),_.qZA(),_.qZA(),_.TgZ(41,"ion-col",60),_.TgZ(42,"ion-item",29),_.TgZ(43,"ion-label"),_._uU(44,"Not Required"),_.qZA(),_._UZ(45,"ion-radio",63),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(46,N,4,3,"div",35),_.TgZ(47,"ion-radio-group",64),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onDrugTestSelect(i)}),_.TgZ(48,"ion-item",29),_.TgZ(49,"ion-label"),_._uU(50,"Drug test completed :"),_.qZA(),_.qZA(),_.TgZ(51,"ion-row"),_.TgZ(52,"ion-col",60),_.TgZ(53,"ion-item",29),_.TgZ(54,"ion-label"),_._uU(55,"Yes"),_.qZA(),_._UZ(56,"ion-radio",61),_.qZA(),_.qZA(),_.TgZ(57,"ion-col",60),_.TgZ(58,"ion-item",29),_.TgZ(59,"ion-label"),_._uU(60,"No"),_.qZA(),_._UZ(61,"ion-radio",62),_.qZA(),_.qZA(),_.TgZ(62,"ion-col",60),_.TgZ(63,"ion-item",29),_.TgZ(64,"ion-label"),_._uU(65,"Not Required"),_.qZA(),_._UZ(66,"ion-radio",63),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(67,j,4,3,"div",35),_.TgZ(68,"ion-radio-group",65),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onReturnToDutySelect(i)}),_.TgZ(69,"ion-item",29),_.TgZ(70,"ion-label"),_._uU(71,"Return to Alternate Duties :"),_.qZA(),_.qZA(),_.TgZ(72,"ion-row"),_.TgZ(73,"ion-col",60),_.TgZ(74,"ion-item",29),_.TgZ(75,"ion-label"),_._uU(76,"Yes"),_.qZA(),_._UZ(77,"ion-radio",61),_.qZA(),_.qZA(),_.TgZ(78,"ion-col",60),_.TgZ(79,"ion-item",29),_.TgZ(80,"ion-label"),_._uU(81,"No"),_.qZA(),_._UZ(82,"ion-radio",62),_.qZA(),_.qZA(),_.TgZ(83,"ion-col",60),_.TgZ(84,"ion-item",29),_.TgZ(85,"ion-label"),_._uU(86,"Not Required"),_.qZA(),_._UZ(87,"ion-radio",63),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(88,L,6,3,"div",35),_.qZA(),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.xp6(3),_.Oqu(e.val),_.xp6(1),_.s9C("src",i.imagePath+"minus.png",_.LSH),_.xp6(2),_.Q6J("formGroup",i.incidentDesForm),_.xp6(19),_.Q6J("ngIf","Other"==i.incidentDesForm.value.was_there_any_witness_of_the_incident),_.xp6(21),_.Q6J("ngIf","Yes"==i.incidentDesForm.value.incident_description_alcohol_test),_.xp6(21),_.Q6J("ngIf","Yes"==i.incidentDesForm.value.drug_test_completed),_.xp6(21),_.Q6J("ngIf","Yes"==i.incidentDesForm.value.return_to_alternate_duties)}}function E(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-col",90),_.TgZ(1,"ion-item",29),_.TgZ(2,"ion-label",33),_._uU(3),_.qZA(),_.TgZ(4,"ion-checkbox",91),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(3).onClassificationChange(i)}),_.qZA(),_.qZA(),_.qZA()}if(2&e){const e=i.$implicit;_.xp6(3),_.Oqu(e.val),_.xp6(1),_.Q6J("value",e.val)("checked",e.isChecked)}}function Q(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2,"Add Location :"),_.qZA(),_._UZ(3,"ion-input",92),_.qZA())}function G(e,i){if(1&e&&(_.TgZ(0,"ion-select-option",15),_._uU(1),_.qZA()),2&e){const e=i.$implicit;_.s9C("value",null==e?null:e.location_name),_.xp6(1),_.hij(" ",null==e?null:e.location_name,"")}}function B(e,i){if(1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2,"Choose Location :"),_.qZA(),_.TgZ(3,"ion-item",29),_.TgZ(4,"ion-select",93),_.YNc(5,G,2,2,"ion-select-option",85),_.qZA(),_.qZA(),_.qZA()),2&e){const e=_.oxw(3);_.xp6(5),_.Q6J("ngForOf",e.locationList)}}function R(e,i){if(1&e&&(_.TgZ(0,"ion-select-option",15),_._uU(1),_.qZA()),2&e){const e=i.$implicit;_.s9C("value",null==e?null:e.shift_type),_.xp6(1),_.hij(" ",null==e?null:e.shift_type," ")}}function z(e,i){1&e&&(_.TgZ(0,"div",94),_.TgZ(1,"p",67),_._uU(2," Other Person Details "),_.qZA(),_.TgZ(3,"p",9),_._uU(4,"Name :"),_.qZA(),_._UZ(5,"ion-input",95),_.TgZ(6,"p",9),_._uU(7," Mobile No :"),_.qZA(),_._UZ(8,"ion-input",96),_.TgZ(9,"p",9),_._uU(10,"Email id :"),_.qZA(),_._UZ(11,"ion-input",97),_.qZA())}function $(e,i){1&e&&(_.TgZ(0,"div",98),_.TgZ(1,"p",67),_._uU(2," Other Witness Details "),_.qZA(),_.TgZ(3,"p",9),_._uU(4," Name : "),_.qZA(),_._UZ(5,"ion-input",99),_.TgZ(6,"p",9),_._uU(7," Mobile No : "),_.qZA(),_._UZ(8,"ion-input",100),_.TgZ(9,"p",9),_._uU(10," Email id : "),_.qZA(),_._UZ(11,"ion-input",101),_.qZA())}function W(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",42),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onProgressBar(i,"Classification")}),_.TgZ(1,"div",24),_.TgZ(2,"p"),_._uU(3),_.qZA(),_.TgZ(4,"img",25),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onDeSelectTabItem(i.val)}),_.qZA(),_.qZA(),_._UZ(5,"hr"),_.TgZ(6,"ion-row",75),_.YNc(7,E,5,3,"ion-col",76),_.qZA(),_.TgZ(8,"p",9),_._uU(9,"Date of Incident :"),_.qZA(),_._UZ(10,"ion-datetime",77),_.TgZ(11,"p",9),_._uU(12,"Time of Incident :"),_.qZA(),_._UZ(13,"ion-datetime",78),_.TgZ(14,"p",9),_._uU(15,"Date Reported :"),_.qZA(),_._UZ(16,"ion-datetime",79),_.TgZ(17,"p",9),_._uU(18,"Time Reported :"),_.qZA(),_._UZ(19,"ion-datetime",80),_.TgZ(20,"ion-radio-group",81),_.TgZ(21,"ion-row"),_.TgZ(22,"ion-col",14),_.TgZ(23,"ion-item",29),_.TgZ(24,"ion-label"),_._uU(25,"Add Location"),_.qZA(),_._UZ(26,"ion-radio",82),_.qZA(),_.qZA(),_.TgZ(27,"ion-col",14),_.TgZ(28,"ion-item",29),_.TgZ(29,"ion-label"),_._uU(30,"Choose Location"),_.qZA(),_._UZ(31,"ion-radio",83),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(32,Q,4,0,"div",35),_.YNc(33,B,6,1,"div",35),_.TgZ(34,"p",9),_._uU(35,"Shift :"),_.qZA(),_.TgZ(36,"ion-select",84),_.YNc(37,R,2,2,"ion-select-option",85),_.qZA(),_.TgZ(38,"p",9),_._uU(39,"Supervisor :"),_.qZA(),_.TgZ(40,"ion-item",36),_.NdJ("click",function(){return _.CHM(e),_.oxw(2).onOpenClassiModal("Supervisor List")}),_._UZ(41,"ion-input",86),_.TgZ(42,"ion-buttons",38),_.TgZ(43,"ion-button",39),_._UZ(44,"ion-icon",40),_.qZA(),_.qZA(),_.qZA(),_.YNc(45,z,12,0,"div",87),_.TgZ(46,"p",9),_._uU(47,"Manger :"),_.qZA(),_.TgZ(48,"ion-item",36),_.NdJ("click",function(){return _.CHM(e),_.oxw(2).onOpenClassiModal("Manager List")}),_._UZ(49,"ion-input",88),_.TgZ(50,"ion-buttons",38),_.TgZ(51,"ion-button",39),_._UZ(52,"ion-icon",40),_.qZA(),_.qZA(),_.qZA(),_.YNc(53,$,12,0,"div",89),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.Q6J("formGroup",i.classificationForm),_.xp6(3),_.Oqu(e.val),_.xp6(1),_.s9C("src",i.imagePath+"minus.png",_.LSH),_.xp6(3),_.Q6J("ngForOf",i.classificationList),_.xp6(25),_.Q6J("ngIf","Add Location"==i.classificationForm.value.classification_location_option),_.xp6(1),_.Q6J("ngIf","Choose Location"==i.classificationForm.value.classification_location_option),_.xp6(4),_.Q6J("ngForOf",i.shiftTypeList),_.xp6(8),_.Q6J("ngIf","Other"==i.classificationForm.value.classification_supervisor),_.xp6(8),_.Q6J("ngIf","Other"==i.classificationForm.value.classification_manager)}}function V(e,i){if(1&e&&(_.TgZ(0,"div"),_.YNc(1,f,4,3,"ion-button",18),_.YNc(2,v,25,4,"div",19),_.YNc(3,x,11,6,"div",20),_.YNc(4,H,89,7,"div",21),_.YNc(5,W,54,9,"div",20),_.qZA()),2&e){const e=i.$implicit,t=_.oxw();_.xp6(1),_.Q6J("ngIf",t.selectedTabItem!=e.val),_.xp6(1),_.Q6J("ngIf",t.selectedTabItem==e.val&&"Incident"==t.selectedTabItem),_.xp6(1),_.Q6J("ngIf",t.selectedTabItem==e.val&&"Photography"==t.selectedTabItem),_.xp6(1),_.Q6J("ngIf",t.selectedTabItem==e.val&&"Incident Description"==t.selectedTabItem),_.xp6(1),_.Q6J("ngIf",t.selectedTabItem==e.val&&"Classification"==t.selectedTabItem)}}function X(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-button",103),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onSelectTabItem(i)}),_.TgZ(1,"p"),_._uU(2),_.qZA(),_._UZ(3,"img",23),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.xp6(2),_.Oqu(e),_.xp6(1),_.s9C("src",i.imagePath+"add.png",_.LSH)}}function K(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2," Asset Number : "),_.qZA(),_._UZ(3,"ion-input",108),_.qZA())}function ee(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"ion-button",44),_.NdJ("click",function(i){return _.CHM(e),_.oxw(3).onSelectDamageImage(i,1)}),_._uU(2,"Upload photo of damage "),_.qZA(),_.qZA()}}function ie(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"input",109),_.NdJ("change",function(i){return _.CHM(e),_.oxw(3).onSelectDamageImage(i,2)}),_.qZA(),_.qZA()}}function te(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-slide"),_.TgZ(1,"ion-grid"),_.TgZ(2,"ion-row"),_.TgZ(3,"ion-col",47),_.TgZ(4,"img",48),_.NdJ("click",function(){const i=_.CHM(e).$implicit;return _.oxw(4).onOpenPreview(i)}),_.qZA(),_.qZA(),_.TgZ(5,"ion-col",49),_.TgZ(6,"p",9),_.TgZ(7,"ion-icon",50),_.NdJ("click",function(){const i=_.CHM(e).index;return _.oxw(4).onImageDelete(i,"damageImages")}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&e){const e=i.$implicit;_.xp6(4),_.Q6J("src",e,_.LSH)}}function ne(e,i){if(1&e&&(_.TgZ(0,"ion-slides",46),_.YNc(1,te,8,1,"ion-slide",16),_.qZA()),2&e){const e=_.oxw(3);_.xp6(1),_.Q6J("ngForOf",e.damageImages)}}function oe(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",42),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onProgressBar(i,"Asset")}),_.TgZ(1,"div",24),_.TgZ(2,"p"),_._uU(3),_.qZA(),_.TgZ(4,"img",25),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onDeSelectTabItem(i)}),_.qZA(),_.qZA(),_._UZ(5,"hr"),_.TgZ(6,"p",9),_._uU(7," Asset description : "),_.qZA(),_._UZ(8,"ion-input",104),_.TgZ(9,"ion-radio-group",105),_.TgZ(10,"ion-item",29),_.TgZ(11,"ion-label"),_._uU(12,"Does Asset have a number ? :"),_.qZA(),_.qZA(),_.TgZ(13,"ion-row",75),_.TgZ(14,"ion-col",106),_.TgZ(15,"ion-item",29),_.TgZ(16,"ion-label"),_._uU(17,"Yes"),_.qZA(),_._UZ(18,"ion-radio",61),_.qZA(),_.qZA(),_.TgZ(19,"ion-col",106),_.TgZ(20,"ion-item",29),_.TgZ(21,"ion-label"),_._uU(22,"No"),_.qZA(),_._UZ(23,"ion-radio",62),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(24,K,4,0,"div",35),_.TgZ(25,"p",9),_._uU(26," Extent of Damage : "),_.qZA(),_._UZ(27,"ion-input",107),_.YNc(28,ee,3,0,"div",35),_.YNc(29,ie,2,0,"div",35),_.YNc(30,ne,2,1,"ion-slides",43),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.Q6J("formGroup",i.assetDescriptionForm),_.xp6(3),_.Oqu(e),_.xp6(1),_.s9C("src",i.imagePath+"minus.png",_.LSH),_.xp6(20),_.Q6J("ngIf","Yes"==i.assetDescriptionForm.value.asset_has_number),_.xp6(4),_.Q6J("ngIf","cordova"===i.globalService.platform),_.xp6(1),_.Q6J("ngIf","browser"===i.globalService.platform),_.xp6(1),_.Q6J("ngIf",i.damageImages.length>0)}}function ae(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"ion-button",44),_.NdJ("click",function(i){return _.CHM(e),_.oxw(5).onChemicalImageSelect(i,1)}),_._uU(2,"Upload Image "),_.qZA(),_.qZA()}}function se(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"input",118),_.NdJ("change",function(i){return _.CHM(e),_.oxw(5).onChemicalImageSelect(i,2)}),_.qZA(),_.qZA()}}function re(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-slide"),_.TgZ(1,"ion-grid"),_.TgZ(2,"ion-row"),_.TgZ(3,"ion-col",47),_.TgZ(4,"img",48),_.NdJ("click",function(){const i=_.CHM(e).$implicit;return _.oxw(6).onOpenPreview(i)}),_.qZA(),_.qZA(),_.TgZ(5,"ion-col",49),_.TgZ(6,"p",9),_.TgZ(7,"ion-icon",50),_.NdJ("click",function(){const i=_.CHM(e).index;return _.oxw(6).onImageDelete(i,"chemicalImages")}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&e){const e=i.$implicit;_.xp6(4),_.Q6J("src",e,_.LSH)}}function le(e,i){if(1&e&&(_.TgZ(0,"ion-slides",46),_.YNc(1,re,8,1,"ion-slide",16),_.qZA()),2&e){const e=_.oxw(5);_.xp6(1),_.Q6J("ngForOf",e.chemicalImages)}}function ce(e,i){if(1&e&&(_.TgZ(0,"div"),_.YNc(1,ae,3,0,"div",35),_.YNc(2,se,2,0,"div",35),_.YNc(3,le,2,1,"ion-slides",43),_.qZA()),2&e){const e=_.oxw(4);_.xp6(1),_.Q6J("ngIf","cordova"===e.globalService.platform),_.xp6(1),_.Q6J("ngIf","browser"===e.globalService.platform),_.xp6(1),_.Q6J("ngIf",e.chemicalImages.length>0)}}function ue(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",114),_.TgZ(1,"p",9),_._uU(2," Name of chemical : "),_.qZA(),_._UZ(3,"ion-input",115),_.TgZ(4,"ion-item",29),_.TgZ(5,"ion-label"),_._uU(6,"Insert Photo "),_.qZA(),_.TgZ(7,"ion-checkbox",116),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(3).onInsertImageSelect(i)}),_.qZA(),_.qZA(),_.YNc(8,ce,4,3,"div",35),_.TgZ(9,"p",9),_._uU(10," Approximate quantity of chemical spilled : "),_.qZA(),_._UZ(11,"ion-input",117),_.qZA()}if(2&e){const e=_.oxw(3);_.xp6(8),_.Q6J("ngIf",e.enviornmentForm.value.chemical_details.insertPhotoCheckBox)}}function me(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2," What was used out of the chemical spill kit ? : "),_.qZA(),_._UZ(3,"ion-input",119),_.qZA())}function _e(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",42),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onProgressBar(i,"Environmental")}),_.TgZ(1,"div",24),_.TgZ(2,"p"),_._uU(3),_.qZA(),_.TgZ(4,"img",25),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onDeSelectTabItem(i)}),_.qZA(),_.qZA(),_._UZ(5,"hr"),_.TgZ(6,"p",9),_._uU(7," Immediate action taken to minimize Environmental impact ? : "),_.qZA(),_._UZ(8,"ion-input",110),_.TgZ(9,"ion-radio-group",111),_.TgZ(10,"ion-item",29),_.TgZ(11,"ion-label"),_._uU(12,"Was a chemical split ? :"),_.qZA(),_.qZA(),_.TgZ(13,"ion-row"),_.TgZ(14,"ion-col",106),_.TgZ(15,"ion-item",29),_.TgZ(16,"ion-label"),_._uU(17,"Yes"),_.qZA(),_._UZ(18,"ion-radio",61),_.qZA(),_.qZA(),_.TgZ(19,"ion-col",106),_.TgZ(20,"ion-item",29),_.TgZ(21,"ion-label"),_._uU(22,"No"),_.qZA(),_._UZ(23,"ion-radio",62),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(24,ue,12,1,"div",112),_.TgZ(25,"ion-radio-group",113),_.TgZ(26,"ion-item",29),_.TgZ(27,"ion-label"),_._uU(28,"Was the emergency spill kit used ? :"),_.qZA(),_.qZA(),_.TgZ(29,"ion-row",75),_.TgZ(30,"ion-col",90),_.TgZ(31,"ion-item",29),_.TgZ(32,"ion-label"),_._uU(33,"Yes"),_.qZA(),_._UZ(34,"ion-radio",61),_.qZA(),_.qZA(),_.TgZ(35,"ion-col",90),_.TgZ(36,"ion-item",29),_.TgZ(37,"ion-label"),_._uU(38,"No"),_.qZA(),_._UZ(39,"ion-radio",62),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(40,me,4,0,"div",35),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.Q6J("formGroup",i.enviornmentForm),_.xp6(3),_.Oqu(e),_.xp6(1),_.s9C("src",i.imagePath+"minus.png",_.LSH),_.xp6(20),_.Q6J("ngIf","Yes"===i.enviornmentForm.value.was_a_chemical_split),_.xp6(16),_.Q6J("ngIf","Yes"==i.enviornmentForm.value.emergency_spill_kit_used)}}function pe(e,i){1&e&&(_.TgZ(0,"div",141),_.TgZ(1,"p",67),_._uU(2," Other Person Details "),_.qZA(),_.TgZ(3,"p",9),_._uU(4,"Name :"),_.qZA(),_._UZ(5,"ion-input",142),_.TgZ(6,"p",9),_._uU(7," Mobile No :"),_.qZA(),_._UZ(8,"ion-input",143),_.TgZ(9,"p",9),_._uU(10,"Email id :"),_.qZA(),_._UZ(11,"ion-input",144),_.qZA())}function de(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2,"Explanation :"),_.qZA(),_._UZ(3,"ion-input",145),_.qZA())}function he(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2,"Explanation :"),_.qZA(),_._UZ(3,"ion-input",146),_.qZA())}function ge(e,i){if(1&e&&(_.TgZ(0,"ion-text",149),_._uU(1),_.qZA()),2&e){const e=_.oxw().$implicit;_.xp6(1),_.hij(" ",e.desc,"")}}function fe(e,i){if(1&e&&(_.TgZ(0,"ion-col",90),_.TgZ(1,"ion-item",29),_.TgZ(2,"ion-label",33),_._uU(3),_.qZA(),_._UZ(4,"ion-radio",147),_.qZA(),_.YNc(5,ge,2,1,"ion-text",148),_.qZA()),2&e){const e=i.$implicit,t=_.oxw().index,n=_.oxw(3);_.xp6(3),_.Oqu(e.val),_.xp6(1),_.s9C("value",e.val),_.xp6(1),_.Q6J("ngIf",e.val==n.injuryForm.value.person_details[t].initital_injury)}}function Ze(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-grid"),_._UZ(1,"img",150),_.TgZ(2,"map",151),_.TgZ(3,"area",152),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Head")}),_.qZA(),_.TgZ(4,"area",153),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Face")}),_.qZA(),_.TgZ(5,"area",154),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Neck")}),_.qZA(),_.TgZ(6,"area",155),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Left Shoulder")}),_.qZA(),_.TgZ(7,"area",156),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Right Shoulder")}),_.qZA(),_.TgZ(8,"area",157),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Left hand")}),_.qZA(),_.TgZ(9,"area",158),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Right hand")}),_.qZA(),_.TgZ(10,"area",159),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Left palm")}),_.qZA(),_.TgZ(11,"area",160),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Left hand finger")}),_.qZA(),_.TgZ(12,"area",161),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Left hand thumb")}),_.qZA(),_.TgZ(13,"area",162),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Right hand palm")}),_.qZA(),_.TgZ(14,"area",163),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Right hand finger")}),_.qZA(),_.TgZ(15,"area",164),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Right hand thumb")}),_.qZA(),_.TgZ(16,"area",165),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Upper Abdomen")}),_.qZA(),_.TgZ(17,"area",166),_.NdJ("click",function(){return _.CHM(e),_.oxw(4).onImageClick("Lower Abdomen")}),_.qZA(),_.qZA(),_.qZA()}if(2&e){const e=_.oxw(4);_.xp6(1),_.s9C("src",e.imagePath+"Male_Silhouette.png",_.LSH)}}function ve(e,i){if(1&e&&(_.TgZ(0,"ion-select-option",15),_._uU(1),_.qZA()),2&e){const e=i.$implicit;_.s9C("value",e.name),_.xp6(1),_.hij(" ",e.name,"")}}function Te(e,i){1&e&&(_.TgZ(0,"div",170),_.TgZ(1,"ion-item",29),_.TgZ(2,"p",67),_._uU(3," Other Person Details "),_.qZA(),_.qZA(),_.TgZ(4,"ion-item",29),_.TgZ(5,"p",9),_._uU(6,"Name :"),_.qZA(),_.qZA(),_._UZ(7,"ion-input",173),_.qZA())}function Ae(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"ion-item",29),_.TgZ(2,"p",9),_._uU(3,"What treatment was given ? :"),_.qZA(),_.qZA(),_._UZ(4,"ion-input",167),_.TgZ(5,"ion-item",29),_.TgZ(6,"p",9),_._uU(7,"Who administered treatment ? : "),_.qZA(),_.qZA(),_.TgZ(8,"ion-item",29),_.TgZ(9,"p",9),_._uU(10,"Person Name :"),_.qZA(),_.qZA(),_.TgZ(11,"ion-item",36),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().index;return _.oxw(3).onOpenInjuryModal("Injured administered",i)}),_._UZ(12,"ion-input",168),_.TgZ(13,"ion-buttons",38),_.TgZ(14,"ion-button",39),_._UZ(15,"ion-icon",40),_.qZA(),_.qZA(),_.qZA(),_.YNc(16,Te,8,0,"div",169),_.TgZ(17,"div",170),_.TgZ(18,"ion-item",29),_.TgZ(19,"p",9),_._uU(20," Mobile No :"),_.qZA(),_.qZA(),_._UZ(21,"ion-input",171),_.TgZ(22,"ion-item",29),_.TgZ(23,"p",9),_._uU(24,"Email id :"),_.qZA(),_.qZA(),_._UZ(25,"ion-input",172),_.qZA(),_.qZA()}if(2&e){const e=_.oxw().index,i=_.oxw(3);_.xp6(16),_.Q6J("ngIf","Other"==i.injuryForm.value.person_details[e].immediate_treatment_person_name)}}function qe(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"ion-row"),_.TgZ(2,"ion-item",29),_.TgZ(3,"span",174),_._uU(4,"* "),_.qZA(),_.TgZ(5,"ion-label"),_._uU(6," Explain why immediate treatment was not given : "),_.qZA(),_.qZA(),_.qZA(),_.TgZ(7,"ion-row"),_._UZ(8,"ion-textarea",175),_.qZA(),_.qZA())}function be(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",126),_.TgZ(1,"ion-card"),_.TgZ(2,"p",127),_._uU(3),_.qZA(),_.TgZ(4,"div",128),_.TgZ(5,"p",9),_._uU(6,"Injured Person Name :"),_.qZA(),_.TgZ(7,"ion-item",36),_.NdJ("click",function(){const i=_.CHM(e).index;return _.oxw(3).onOpenInjuryModal("Injured person",i)}),_._UZ(8,"ion-input",129),_.TgZ(9,"ion-buttons",38),_.TgZ(10,"ion-button",39),_._UZ(11,"ion-icon",40),_.qZA(),_.qZA(),_.qZA(),_.YNc(12,pe,12,0,"div",130),_.TgZ(13,"p",9),_._uU(14,"Gender :"),_.qZA(),_.TgZ(15,"ion-select",131),_.TgZ(16,"ion-select-option",132),_._uU(17,"Male"),_.qZA(),_.TgZ(18,"ion-select-option",133),_._uU(19,"Female"),_.qZA(),_.TgZ(20,"ion-select-option",134),_._uU(21,"Other"),_.qZA(),_.qZA(),_.TgZ(22,"p",9),_._uU(23,"Date of Birth :"),_.qZA(),_._UZ(24,"ion-datetime",135),_.TgZ(25,"ion-radio-group",136),_.TgZ(26,"ion-item",29),_.TgZ(27,"ion-label"),_._uU(28,"Return to Normal Duties :"),_.qZA(),_.qZA(),_.TgZ(29,"ion-row",75),_.TgZ(30,"ion-col",90),_.TgZ(31,"ion-item",29),_.TgZ(32,"ion-label"),_._uU(33,"Yes"),_.qZA(),_._UZ(34,"ion-radio",61),_.qZA(),_.qZA(),_.TgZ(35,"ion-col",90),_.TgZ(36,"ion-item",29),_.TgZ(37,"ion-label"),_._uU(38,"No"),_.qZA(),_._UZ(39,"ion-radio",62),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(40,de,4,0,"div",35),_.TgZ(41,"ion-radio-group",137),_.TgZ(42,"ion-row"),_.TgZ(43,"ion-col",14),_.TgZ(44,"ion-item",29),_.TgZ(45,"ion-label"),_._uU(46,"Return to Alternate Duties :"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(47,"ion-col",90),_.TgZ(48,"ion-item",29),_.TgZ(49,"ion-label"),_._uU(50,"Yes"),_.qZA(),_._UZ(51,"ion-radio",61),_.qZA(),_.qZA(),_.TgZ(52,"ion-col",90),_.TgZ(53,"ion-item",29),_.TgZ(54,"ion-label"),_._uU(55,"No"),_.qZA(),_._UZ(56,"ion-radio",62),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(57,he,4,0,"div",35),_.TgZ(58,"ion-item",29),_.TgZ(59,"ion-label",33),_._uU(60,"Initial Injury / IIIness Classification :"),_.qZA(),_.qZA(),_.TgZ(61,"ion-radio-group",138),_.TgZ(62,"ion-row"),_.YNc(63,fe,6,3,"ion-col",76),_.qZA(),_.qZA(),_.YNc(64,Ze,18,1,"ion-grid",35),_.TgZ(65,"ion-item",29),_.TgZ(66,"p",9),_._uU(67,"Part of body injured :"),_.qZA(),_.qZA(),_.TgZ(68,"ion-select",139),_.YNc(69,ve,2,2,"ion-select-option",85),_.qZA(),_.TgZ(70,"ion-radio-group",140),_.NdJ("ionChange",function(i){const t=_.CHM(e).index;return _.oxw(3).onImmediateTreatment(i,t)}),_.TgZ(71,"ion-row"),_.TgZ(72,"ion-col",14),_.TgZ(73,"ion-item",29),_.TgZ(74,"ion-label",33),_._uU(75,"Was immediate treatment given ? :"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(76,"ion-col",90),_.TgZ(77,"ion-item",29),_.TgZ(78,"ion-label"),_._uU(79,"Yes"),_.qZA(),_._UZ(80,"ion-radio",61),_.qZA(),_.qZA(),_.TgZ(81,"ion-col",90),_.TgZ(82,"ion-item",29),_.TgZ(83,"ion-label"),_._uU(84,"No"),_.qZA(),_._UZ(85,"ion-radio",62),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(86,Ae,26,1,"div",35),_.YNc(87,qe,9,0,"div",35),_.qZA(),_.qZA(),_.qZA()}if(2&e){const e=i.index,t=_.oxw(3);_.xp6(3),_.hij("Person ",e+1," Details"),_.xp6(1),_.Q6J("formGroupName",e),_.xp6(8),_.Q6J("ngIf","Other"==t.injuryForm.value.person_details[e].injured_person_option),_.xp6(28),_.Q6J("ngIf","No"==t.injuryForm.value.person_details[e].normal_duties),_.xp6(17),_.Q6J("ngIf","No"===t.injuryForm.value.person_details[e].alternate_duties),_.xp6(6),_.Q6J("ngForOf",t.injuryList),_.xp6(1),_.Q6J("ngIf","Male"===t.injuryForm.value.person_details[e].gender),_.xp6(5),_.Q6J("ngForOf",t.bodyPartList),_.xp6(17),_.Q6J("ngIf","Yes"==t.injuryForm.value.person_details[e].was_immediate_treatment),_.xp6(1),_.Q6J("ngIf","No"==t.injuryForm.value.person_details[e].was_immediate_treatment)}}function xe(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",42),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onProgressBar(i,"Injury")}),_.TgZ(1,"div",24),_.TgZ(2,"p"),_._uU(3),_.qZA(),_.TgZ(4,"img",25),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onDeSelectTabItem(i)}),_.qZA(),_.qZA(),_._UZ(5,"hr"),_.TgZ(6,"p",9),_._uU(7,"Number of Injured Person's :"),_.qZA(),_.TgZ(8,"ion-select",120),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onAddMultiplePersonDetails(i)}),_.TgZ(9,"ion-select-option",121),_._uU(10,"1"),_.qZA(),_.TgZ(11,"ion-select-option",122),_._uU(12,"2"),_.qZA(),_.TgZ(13,"ion-select-option",123),_._uU(14,"3"),_.qZA(),_.TgZ(15,"ion-select-option",124),_._uU(16,"4"),_.qZA(),_.qZA(),_.YNc(17,be,88,10,"div",125),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.Q6J("formGroup",i.injuryForm),_.xp6(3),_.Oqu(e),_.xp6(1),_.s9C("src",i.imagePath+"minus.png",_.LSH),_.xp6(13),_.Q6J("ngForOf",i.injuryPersonDetails.controls)}}function ye(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",42),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onProgressBar(i,"Report")}),_.TgZ(1,"div",24),_.TgZ(2,"p"),_._uU(3),_.qZA(),_.TgZ(4,"img",25),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onDeSelectTabItem(i)}),_.qZA(),_.qZA(),_._UZ(5,"hr"),_.TgZ(6,"p",9),_._uU(7," What could have done differently ? : "),_.qZA(),_._UZ(8,"ion-input",176),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.Q6J("formGroup",i.reportForm),_.xp6(3),_.Oqu(e),_.xp6(1),_.s9C("src",i.imagePath+"minus.png",_.LSH)}}function Fe(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-item",186),_.TgZ(1,"ion-label"),_._uU(2),_.qZA(),_.TgZ(3,"ion-checkbox",187),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(3).onReputationDamagesCheckBox(i)}),_.qZA(),_.qZA()}if(2&e){const e=i.$implicit;_.xp6(2),_.Oqu(e.val),_.xp6(1),_.Q6J("value",e.val)("checked",e.isChecked)}}function we(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2," How has the Individual's reputation been damaged ? : "),_.qZA(),_._UZ(3,"ion-input",188),_.qZA())}function Ce(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2," How has the Company's reputation been damaged ? : "),_.qZA(),_._UZ(3,"ion-input",189),_.qZA())}function Ie(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-item",191),_.TgZ(1,"ion-label"),_._uU(2),_.qZA(),_.TgZ(3,"ion-checkbox",187),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(4).onDepartmentEffectCheckBox(i)}),_.qZA(),_.qZA()}if(2&e){const e=i.$implicit;_.xp6(2),_.Oqu(e.val),_.xp6(1),_.Q6J("value",e.val)("checked",e.isChecked)}}function Ne(e,i){if(1&e&&(_.TgZ(0,"div"),_.TgZ(1,"ion-item",29),_.TgZ(2,"ion-label"),_._uU(3,"What Department was effected ? :"),_.qZA(),_.qZA(),_.YNc(4,Ie,4,3,"ion-item",190),_.qZA()),2&e){const e=_.oxw(3);_.xp6(4),_.Q6J("ngForOf",e.departmentEffect)}}function De(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2," Who is the external party ? : "),_.qZA(),_._UZ(3,"ion-input",192),_.qZA())}function Ue(e,i){1&e&&(_.TgZ(0,"div",193),_.TgZ(1,"p",67),_._uU(2," Other Witness Details "),_.qZA(),_.TgZ(3,"p",9),_._uU(4," Name : "),_.qZA(),_._UZ(5,"ion-input",194),_.TgZ(6,"p",9),_._uU(7," Mobile No : "),_.qZA(),_._UZ(8,"ion-input",195),_.TgZ(9,"p",9),_._uU(10," Email id : "),_.qZA(),_._UZ(11,"ion-input",196),_.qZA())}function ke(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",42),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onProgressBar(i,"Reputation")}),_.TgZ(1,"div",24),_.TgZ(2,"p"),_._uU(3),_.qZA(),_.TgZ(4,"img",25),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onDeSelectTabItem(i)}),_.qZA(),_.qZA(),_._UZ(5,"hr"),_.TgZ(6,"ion-item",29),_.TgZ(7,"ion-label",33),_._uU(8,"Was the reputation damages an individual or Company ? : "),_.qZA(),_.qZA(),_.YNc(9,Fe,4,3,"ion-item",177),_.YNc(10,we,4,0,"div",35),_.YNc(11,Ce,4,0,"div",35),_.TgZ(12,"ion-radio-group",178),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onRepoNegativeEffect(i)}),_.TgZ(13,"ion-item",29),_.TgZ(14,"ion-label",33),_._uU(15,"Was the negative effect internal or external ? :"),_.qZA(),_.qZA(),_.TgZ(16,"ion-row",75),_.TgZ(17,"ion-col",179),_.TgZ(18,"ion-item",29),_.TgZ(19,"ion-label"),_._uU(20,"Internal"),_.qZA(),_._UZ(21,"ion-radio",180),_.qZA(),_.qZA(),_.TgZ(22,"ion-col",179),_.TgZ(23,"ion-item",29),_.TgZ(24,"ion-label"),_._uU(25,"External"),_.qZA(),_._UZ(26,"ion-radio",181),_.qZA(),_.qZA(),_.TgZ(27,"ion-col",179),_.TgZ(28,"ion-item",29),_.TgZ(29,"ion-label"),_._uU(30,"Both"),_.qZA(),_._UZ(31,"ion-radio",182),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(32,Ne,5,1,"div",35),_.YNc(33,De,4,0,"div",35),_.TgZ(34,"p",9),_._uU(35," Name of witness : "),_.qZA(),_.TgZ(36,"ion-item",36),_.NdJ("click",function(){return _.CHM(e),_.oxw(2).onOpenReputationModal()}),_._UZ(37,"ion-input",183),_.TgZ(38,"ion-buttons",38),_.TgZ(39,"ion-button",39),_._UZ(40,"ion-icon",40),_.qZA(),_.qZA(),_.qZA(),_.YNc(41,Ue,12,0,"div",184),_.TgZ(42,"p",9),_._uU(43," What is the possible outcome of this incident ? : "),_.qZA(),_._UZ(44,"ion-input",185),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.Q6J("formGroup",i.reputationDesForm),_.xp6(3),_.Oqu(e),_.xp6(1),_.s9C("src",i.imagePath+"minus.png",_.LSH),_.xp6(5),_.Q6J("ngForOf",i.reputationCheckBox),_.xp6(1),_.Q6J("ngIf","Individual"==i.reputationDesForm.value.reputation_option[0]||"Individual"==i.reputationDesForm.value.reputation_option[1]),_.xp6(1),_.Q6J("ngIf","Company"==i.reputationDesForm.value.reputation_option[0]||"Company"==i.reputationDesForm.value.reputation_option[1]),_.xp6(21),_.Q6J("ngIf","Internal"==i.reputationDesForm.value.reputation_negative_effect||"Both"==i.reputationDesForm.value.reputation_negative_effect),_.xp6(1),_.Q6J("ngIf","External"==i.reputationDesForm.value.reputation_negative_effect||"Both"==i.reputationDesForm.value.reputation_negative_effect),_.xp6(8),_.Q6J("ngIf","Other"==i.reputationDesForm.value.name_of_witness)}}function Pe(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"ion-col",106),_.TgZ(1,"ion-item",191),_.TgZ(2,"ion-label",33),_._uU(3),_.qZA(),_.TgZ(4,"ion-checkbox",91),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(4).onSecurityItOption(i)}),_.qZA(),_.qZA(),_.qZA()}if(2&e){const e=i.$implicit;_.xp6(3),_.Oqu(e.val),_.xp6(1),_.Q6J("value",e.val)("checked",e.isChecked)}}function Oe(e,i){if(1&e&&(_.TgZ(0,"div"),_.TgZ(1,"ion-item",191),_.TgZ(2,"ion-label"),_._uU(3,"What kind of IT Security Incident ? :"),_.qZA(),_.qZA(),_.TgZ(4,"ion-row",75),_.YNc(5,Pe,5,3,"ion-col",201),_.qZA(),_.qZA()),2&e){const e=_.oxw(3);_.xp6(5),_.Q6J("ngForOf",e.itSecurityList)}}function je(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2," What has been stolen ? : "),_.qZA(),_._UZ(3,"ion-input",202),_.TgZ(4,"p",9),_._uU(5," Approximate value of stolen item ? : "),_.qZA(),_._UZ(6,"ion-input",203),_.qZA())}function Je(e,i){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"p",9),_._uU(2," What is the Security incident ? : "),_.qZA(),_._UZ(3,"ion-input",204),_.qZA())}function Me(e,i){if(1&e){const e=_.EpF();_.TgZ(0,"div",42),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onProgressBar(i,"Security")}),_.TgZ(1,"div",24),_.TgZ(2,"p"),_._uU(3),_.qZA(),_.TgZ(4,"img",25),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().onDeSelectTabItem(i)}),_.qZA(),_.qZA(),_._UZ(5,"hr"),_.TgZ(6,"ion-radio-group",197),_.NdJ("ionChange",function(i){return _.CHM(e),_.oxw(2).onSecurityOption(i)}),_.TgZ(7,"ion-row",75),_.TgZ(8,"ion-col",28),_.TgZ(9,"ion-item",29),_.TgZ(10,"ion-label"),_._uU(11,"IT"),_.qZA(),_._UZ(12,"ion-radio",198),_.qZA(),_.qZA(),_.TgZ(13,"ion-col",28),_.TgZ(14,"ion-item",29),_.TgZ(15,"ion-label"),_._uU(16,"Theft"),_.qZA(),_._UZ(17,"ion-radio",199),_.qZA(),_.qZA(),_.TgZ(18,"ion-col",28),_.TgZ(19,"ion-item",29),_.TgZ(20,"ion-label"),_._uU(21,"Other"),_.qZA(),_._UZ(22,"ion-radio",200),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(23,Oe,6,1,"div",35),_.YNc(24,je,7,0,"div",35),_.YNc(25,Je,4,0,"div",35),_.qZA()}if(2&e){const e=_.oxw().$implicit,i=_.oxw();_.Q6J("formGroup",i.securityForm),_.xp6(3),_.Oqu(e),_.xp6(1),_.s9C("src",i.imagePath+"minus.png",_.LSH),_.xp6(19),_.Q6J("ngIf","IT"==i.securityForm.value.security_option),_.xp6(1),_.Q6J("ngIf","Theft"==i.securityForm.value.security_option),_.xp6(1),_.Q6J("ngIf","Other"==i.securityForm.value.security_option)}}function Se(e,i){if(1&e&&(_.TgZ(0,"div"),_.YNc(1,X,4,2,"ion-button",102),_.YNc(2,oe,31,7,"div",20),_.YNc(3,_e,41,5,"div",20),_.YNc(4,xe,18,4,"div",20),_.YNc(5,ye,9,3,"div",20),_.YNc(6,ke,45,9,"div",20),_.YNc(7,Me,26,6,"div",20),_.qZA()),2&e){const e=i.$implicit,t=_.oxw();_.xp6(1),_.Q6J("ngIf",t.selectedTabItem!=e),_.xp6(1),_.Q6J("ngIf",t.selectedTabItem==e&&"Asset"==e),_.xp6(1),_.Q6J("ngIf",t.selectedTabItem==e&&"Environmental"==e),_.xp6(1),_.Q6J("ngIf",t.selectedTabItem==e&&"Injury"==e),_.xp6(1),_.Q6J("ngIf",t.selectedTabItem==e&&"Report"==e),_.xp6(1),_.Q6J("ngIf",t.selectedTabItem==e&&"Reputation"==e),_.xp6(1),_.Q6J("ngIf",t.selectedTabItem==e&&"Security"==e)}}const Ye=[{path:"",component:(()=>{class e{constructor(e,i,t,n,o,a,s,r){this.globalService=e,this.sharedService=i,this.modalController=t,this.actionSheetController=n,this.camera=o,this.fb=a,this.nav=s,this.loadingService=r,this.imagePath=l.N.imageUrl,this.pName="Add Form",this.form_percent=0,this.form_percent_val=0,this.witnessList=[],this.superVisorList=[],this.employeeList=[],this.managerList=[],this.shiftTypeList=[],this.locationList=[],this.bodyPartList=[],this.incident_near_miss="",this.was_there_any_witness_of_the_incident="",this.classification_supervisor="",this.classification_manager="",this.injured_person_option="",this.immediate_treatment_person_name="",this.name_of_witness="",this.selectedTabList=[],this.platformCheck="",this.nearMissEmpId="",this.photoGraphy=new Array,this.photoGraphyObject={},this.alcohalImages=[],this.alcohalImagesObject={},this.drugTestImages=[],this.drugTestImagesObject={},this.alterDutyImages=[],this.alterDutyImagesObject={},this.chemicalImages=[],this.chemicalImagesObject={},this.damageImages=[],this.damageImagesObject={},this.tabList=[{val:"Incident",tabDisable:!1},{val:"Photography",tabDisable:!0},{val:"Incident Description",tabDisable:!0},{val:"Classification",tabDisable:!0}],this.selectedTabItem="Incident",this.classificationList=[{val:"Asset",isChecked:!1},{val:"Environmental",isChecked:!1},{val:"Injury",isChecked:!1},{val:"Report",isChecked:!1},{val:"Reputation",isChecked:!1},{val:"Security",isChecked:!1}],this.itSecurityList=[{val:"Intrusion",isChecked:!1},{val:"Privacy breach",isChecked:!1},{val:"Ransom ware",isChecked:!1},{val:"Security",isChecked:!1}],this.reputationCheckBox=[{val:"Company",isChecked:!1},{val:"Individual",isChecked:!1}],this.departmentEffect=[{val:"Dubbo Division",isChecked:!1},{val:"Mudgee Division",isChecked:!1},{val:"Orange Division",isChecked:!1},{val:"Project Services",isChecked:!1},{val:"West Wyalong Division",isChecked:!1}],this.injuryList=m[0].K}ngOnInit(){this.loadShift(),this.loadLocation(),this.loadBodyPart(),this.loadEmployee(),this.loadWitness(),this.loadSuperwiser(),this.incidentForm=this.fb.group({incident_value:["",o.kI.required],incident_near_miss:[""],incident_near_miss_other:[""]}),this.photoGraphyForm=this.fb.group({photography_image:[""]}),this.incidentDesForm=this.fb.group({incident_description:["",o.kI.required],incident_description_action:["",o.kI.required],seen_differently:[""],was_there_any_witness_of_the_incident:[""],incdesc_other_witness_details:this.fb.group({incdesc_other_witness_name:[""],incdesc_other_witness_mobile_no:[""],incdesc_other_witness_email:[""]}),incident_description_alcohol_test:[""],alcohol_test_image:[""],drug_test_completed:[""],drug_test_image:[""],return_to_alternate_duties:[""],return_to_alternate_duties_image:[""]}),this.classificationForm=this.fb.group({classification_value:new o.Oe([]),date_of_incident:[""],time_of_incident:[""],date_reported:[""],time_reported:[""],classification_location_option:[""],classification_location_value:[""],classification_location_value1:[""],classification_shift_type:[""],classification_supervisor:[""],classification_supervisor_other_details:this.fb.group({classification_supervisor_other_name:[""],classification_supervisor_other_mobile_no:[""],classification_supervisor_other_email:[""]}),classification_manager:["",o.kI.required],classification_manager_other_details:this.fb.group({classification_manager_other_name:[""],classification_manager_other_mobile_no:[""],classification_manager_other_email:[""]})}),this.assetDescriptionForm=this.fb.group({asset_description:[""],asset_has_number:[""],asset_number:[""],extent_of_damage:[""],extent_damage_image:[""]}),this.enviornmentForm=this.fb.group({environmental_description:[""],was_a_chemical_split:[""],chemical_details:this.fb.group({chemical_name:[""],chemical_photo:[""],approximate_quantity:[""],insertPhotoCheckBox:[!1]}),emergency_spill_kit_used:[""],out_of_split_kit:[""]}),this.injuryForm=this.fb.group({injury_persons:[""],person_details:this.fb.array([])}),this.reportForm=this.fb.group({report:[""]}),this.reputationDesForm=this.fb.group({reputation_option:new o.Oe([]),individual_damage_value:[""],company_damage_value:[""],reputation_negative_effect:[""],effected_department:new o.Oe([]),external_party:[""],name_of_witness:[""],other_witness_details:this.fb.group({other_witness_name:[""],other_witness_mobile_no:[""],other_witness_email:[""]}),possible_outcome_incident:[""]}),this.securityForm=this.fb.group({security_option:[""],it_option_value:new o.Oe([]),what_has_been_stolen_item:[""],approximate_value_of_stolen:[""],what_is_the_specific_securities_incident:[""]})}loadEmployee(){this.globalService.getData("user/getallemployee").subscribe(e=>{this.employeeList=e&&e.status&&e.data&&e.data.length>0?e.data:[],this.employeeList.unshift({full_name:"Other",employee_id:"0"})},e=>{console.log(e)})}loadWitness(){this.globalService.getData("Witness/getWitnessList").subscribe(e=>{this.witnessList=e&&e.status&&e.data&&e.data.length>0?e.data:[],this.witnessList.unshift({full_name:"Other",employee_id:"0"})},e=>{console.log(e)})}loadSuperwiser(){this.globalService.getData("Supervisor/getSupervisorList").subscribe(e=>{this.superVisorList=e&&e.status&&e.data&&e.data.length>0?e.data:[],this.superVisorList.unshift({full_name:"Other",employee_id:"0"})},e=>{console.log("Eror",e)})}loadMangerList(){this.globalService.getData("Manager/getManagerList").subscribe(e=>{this.managerList=e&&e.status&&e.data&&e.data.length>0?e.data:[],this.managerList.unshift({full_name:"Other",employee_id:"0"})},e=>{console.log(e)})}loadShift(){this.globalService.getData("Shift/get_shift_typelist").subscribe(e=>{this.shiftTypeList=e&&e.status&&e.data&&e.data.length>0?e.data:[]},e=>{console.log("Eror",e)})}loadLocation(){this.globalService.getData("location/getLocation").subscribe(e=>{this.locationList=e&&e.status&&e.data&&e.data.length>0?e.data:[]},e=>{console.log("Eror",e)})}loadBodyPart(){this.globalService.getData("Body_part/getbodypart").subscribe(e=>{this.bodyPartList=e&&e.status&&e.data&&e.data.length>0?e.data:[]},e=>{console.log("Eror",e)})}onSelectTabItem(e){this.selectedTabItem=e}onDeSelectTabItem(e){this.selectedTabItem="","Classification"==e&&(this.selectedTabList=this.selectedTabList)}pickImage(e,i){let t;this.loadingService.presentLoading(),this.camera.getPicture({quality:100,sourceType:e,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(e=>{t="data:image/jpeg;base64,"+e,""!=t||null!=t?("PhotoGraphy"==i&&(this.photoGraphy.length<0?this.photoGraphy.push(t):this.photoGraphy.unshift(t)),"Alcohol"==i&&(this.alcohalImages.length<0?this.alcohalImages.push(t):this.alcohalImages.unshift(t)),"Drug"==i&&(this.drugTestImages.length<0?this.drugTestImages.push(t):this.drugTestImages.unshift(t)),"ReturnToAlternateDuty"==i&&(this.alterDutyImages.length<0?this.alterDutyImages.push(t):this.alterDutyImages.unshift(t)),"ChemicalImage"==i&&(this.chemicalImages.length<0?this.chemicalImages.push(t):this.chemicalImages.unshift(t)),"DamageImage"==i&&(this.damageImages.length<0?this.damageImages.push(t):this.damageImages.unshift(t)),this.onProgressBar("",""),this.loadingService.dismissLoading()):(console.log("Error in image processing."),this.loadingService.dismissLoading())},e=>{this.loadingService.dismissLoading(),console.log("errOf Image ",e)})}mobileUploads(e){return(0,r.mG)(this,void 0,void 0,function*(){const i=yield this.actionSheetController.create({header:"Select Image source",buttons:[{text:"Load from Library",handler:()=>{this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY,e)}},{text:"Use Camera",handler:()=>{this.pickImage(this.camera.PictureSourceType.CAMERA,e)}},{text:"Cancel",role:"cancel"}]});yield i.present()})}onPhotoGraphy(e,i){return(0,r.mG)(this,void 0,void 0,function*(){if(1==i)this.mobileUploads("PhotoGraphy");else if(2==i)for(let i=0;i<e.target.files.length;i++)this.sharedService.getBase64(e.target.files[i]).then(e=>{this.photoGraphy.length<=0?this.photoGraphy.push(e):this.photoGraphy.unshift(e),this.photoGraphyForm.controls.photography_image.setValue(this.photoGraphy),this.onProgressBar("","")}).catch(e=>{console.log("error",e)})})}onAlcoholImage(e,i){if(1==i)this.mobileUploads("Alcohol");else if(2==i)for(let t=0;t<e.target.files.length;t++)this.sharedService.getBase64(e.target.files[t]).then(e=>{this.alcohalImages.length<=0?this.alcohalImages.push(e):this.alcohalImages.unshift(e),this.incidentDesForm.controls.alcohol_test_image.setValue(this.alcohalImages),this.onProgressBar("","")}).catch(e=>{console.log("error",e)})}onAlcohalTestSelect(e){"Yes"!=e.target.value&&(this.alcohalImages=[])}onDrugTestImage(e,i){if(1==i)this.mobileUploads("Drug");else if(2==i)for(let t=0;t<e.target.files.length;t++)this.sharedService.getBase64(e.target.files[t]).then(e=>{this.drugTestImages.length<=0?this.drugTestImages.push(e):this.drugTestImages.unshift(e),this.incidentDesForm.controls.drug_test_image.setValue(this.drugTestImages),this.onProgressBar("","")}).catch(e=>{console.log("error",e)})}onDrugTestSelect(e){"Yes"!=e.target.value&&(this.drugTestImages=[])}onReturnToDutyImage(e,i){if(1==i)this.mobileUploads("ReturnToAlternateDuty");else if(2==i)for(let t=0;t<e.target.files.length;t++)this.sharedService.getBase64(e.target.files[t]).then(e=>{this.alterDutyImages.length<=0?this.alterDutyImages.push(e):this.alterDutyImages.unshift(e),this.incidentDesForm.controls.return_to_alternate_duties_image.setValue(this.alterDutyImages),this.onProgressBar("","")}).catch(e=>{console.log("error",e)})}onReturnToDutySelect(e){"Yes"!=e.target.value&&(this.alterDutyImages=[])}onChemicalImageSelect(e,i){if(1==i)this.mobileUploads("ChemicalImage");else if(2==i)for(let t=0;t<e.target.files.length;t++)this.sharedService.getBase64(e.target.files[t]).then(e=>{this.chemicalImages.length<=0?this.chemicalImages.push(e):this.chemicalImages.unshift(e),this.enviornmentForm.controls.chemical_details.patchValue({chemical_photo:this.chemicalImages}),this.onProgressBar("","")}).catch(e=>{console.log("error",e)})}onInsertImageSelect(e){e.detail.checked||(this.chemicalImages=[])}onSelectDamageImage(e,i){if(1==i)this.mobileUploads("DamageImage");else if(2==i)for(let t=0;t<e.target.files.length;t++)this.sharedService.getBase64(e.target.files[t]).then(e=>{this.damageImages.length<=0?this.damageImages.push(e):this.damageImages.unshift(e),this.assetDescriptionForm.controls.extent_damage_image.setValue(this.damageImages),this.onProgressBar("","")}).catch(e=>{console.log("error",e)})}onImageDelete(e,i){this[i].splice(e,1),this.onProgressBar("","")}onOpenIncidentModal(){return(0,r.mG)(this,void 0,void 0,function*(){console.log("this.witnessList",this.witnessList);const e=yield this.modalController.create({component:c.Y,componentProps:{list:this.witnessList,header:"Witness List"},cssClass:"managers"});return e.onDidDismiss().then(e=>{console.log("onDidDismiss",e),e&&(null==e?void 0:e.data)&&(this.incidentForm.controls.incident_near_miss.setValue(e.data.full_name),this.incident_near_miss=e.data)}),yield e.present()})}onOpenIncDesModal(){return(0,r.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:c.Y,componentProps:{list:this.witnessList,header:"Witness List"},cssClass:"managers"});return e.onDidDismiss().then(e=>{e&&(null==e?void 0:e.data)&&(this.incidentDesForm.controls.was_there_any_witness_of_the_incident.setValue(e.data.full_name),this.was_there_any_witness_of_the_incident=e.data)}),yield e.present()})}onOpenClassiModal(e){return(0,r.mG)(this,void 0,void 0,function*(){let i=[];"Supervisor List"==e&&(i=this.superVisorList),"Manager List"==e&&(i=this.employeeList);const t=yield this.modalController.create({component:c.Y,componentProps:{list:i,header:e},cssClass:"managers"});return t.onDidDismiss().then(i=>{i&&(null==i?void 0:i.data)&&("Supervisor List"==e?(this.classificationForm.controls.classification_supervisor.setValue(i.data.full_name),this.classification_supervisor=i.data,"Other"!=i.data.full_name&&this.classificationForm.controls.classification_supervisor_other_details.patchValue({classification_supervisor_other_name:"",classification_supervisor_other_mobile_no:"",classification_supervisor_other_email:""})):"Manager List"==e&&(this.classificationForm.controls.classification_manager.setValue(i.data.full_name),this.classification_manager=i.data,"Other"!=i.data.full_name)&&this.classificationForm.controls.classification_manager_other_details.patchValue({classification_manager_other_name:"",classification_manager_other_mobile_no:"",classification_manager_other_email:""}))}),yield t.present()})}onOpenInjuryModal(e,i){return(0,r.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:c.Y,componentProps:{list:this.employeeList,header:"Employee List"},cssClass:"managers"});return""!=this.injuryPersonDetails.value[i].injured_person_option&&"Other"!=this.injuryPersonDetails.value[i].injured_person_option&&this.injuryPersonDetails.controls[i].patchValue({injured_person_option_other_details:{injured_person_option_other_name:"",injured_person_option_other_mobile_no:"",injured_person_option_other_email:""}}),t.onDidDismiss().then(t=>{t&&(null==t?void 0:t.data)&&("Injured person"==e&&this.injuryPersonDetails.controls[i].patchValue({injured_person_option:t.data.full_name,injured_person_option_id:t.data.employee_id}),"Injured administered"==e&&this.injuryPersonDetails.controls[i].patchValue({immediate_treatment_person_name:t.data.full_name,immediate_treatment_person_name_id:t.data.employee_id,immediate_treatment_other_person_detail:{immediate_treatment_person_number:t.data.emp_mobile,immediate_treatment_other_email:t.data.emp_work_email?t.data.emp_work_email:t.data.emp_oth_email}}))}),yield t.present()})}onOpenReputationModal(){return(0,r.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:c.Y,componentProps:{list:this.witnessList,header:"Witness List"},cssClass:"managers"});return e.onDidDismiss().then(e=>{e&&(null==e?void 0:e.data)&&(this.reputationDesForm.controls.name_of_witness.setValue(e.data.full_name),this.name_of_witness=e.data)}),yield e.present()})}onOpenPreview(e){return(0,r.mG)(this,void 0,void 0,function*(){(yield this.modalController.create({component:u.e,cssClass:"transparent-modal",componentProps:{img:e}})).present()})}validation(){let e=!1,i=!1,t=!1,n=!1;if(this.classificationForm.value.classification_value.find(o=>{"Environmental"==o&&(e=!0),"Reputation"==o&&(i=!0),"Asset"==o&&(t=!0),"Report"==o&&(n=!0)}),""===this.incidentForm.value.incident_value||null==this.incidentForm.value.incident_value)this.globalService.presentToast("Incident : Incident is Required");else if(""===this.incidentDesForm.value.incident_description||null==this.incidentDesForm.value.incident_description)this.globalService.presentToast("Incident Description - Please enter Description of incident");else if(""===this.incidentDesForm.value.incident_description_action||null==this.incidentDesForm.value.incident_description_action)this.globalService.presentToast("Incident Description - Immediate action taken filed is Required");else if(""==this.classificationForm.value.classification_manager||null==this.classificationForm.value.classification_manager)this.globalService.presentToast("Classification - Please Select the manager");else if(""!==this.enviornmentForm.value.environmental_description&&null!=this.enviornmentForm.value.environmental_description||!e)if(""!==this.reputationDesForm.value.name_of_witness&&null!=this.reputationDesForm.value.name_of_witness&&null!=this.reputationDesForm.value.name_of_witness||!i)if(""!=this.reputationDesForm.value.name_of_witness&&null!=this.reputationDesForm.value.name_of_witness||!i)if("Other"!=this.reputationDesForm.value.name_of_witness||""!=this.reputationDesForm.value.other_witness_details.other_witness_name&&null!=this.reputationDesForm.value.other_witness_details.other_witness_name&&null!=this.reputationDesForm.value.other_witness_details.other_witness_name||!i)if("Other"!=this.reputationDesForm.value.name_of_witness||""!=this.reputationDesForm.value.other_witness_details.other_witness_mobile_no&&null!=this.reputationDesForm.value.other_witness_details.other_witness_mobile_no&&null!=this.reputationDesForm.value.other_witness_details.other_witness_mobile_no||!i)if("Other"!=this.reputationDesForm.value.name_of_witness||""!=this.reputationDesForm.value.other_witness_details.other_witness_email&&null!=this.reputationDesForm.value.other_witness_details.other_witness_email&&null!=this.reputationDesForm.value.other_witness_details.other_witness_email||!i)if(""!==this.reputationDesForm.value.possible_outcome_incident&&null!=this.reputationDesForm.value.possible_outcome_incident||!i)if(""!==this.assetDescriptionForm.value.asset_description&&null!=this.assetDescriptionForm.value.asset_description||!t)if(""!==this.assetDescriptionForm.value.extent_of_damage&&null!=this.assetDescriptionForm.value.extent_of_damage||!t){if(""!==this.reportForm.value.report&&null!=this.reportForm.value.report||!n)return!0;this.globalService.presentToast("Report - Please enter what could have been done differently")}else this.globalService.presentToast("Asset - Please enter Extent of Damage");else this.globalService.presentToast("Asset - Please enter asset description");else this.globalService.presentToast("Reputation - Please enter possible outcome of this incident");else this.globalService.presentToast("Reputation - Please enter other witness email.");else this.globalService.presentToast("Reputation - Please enter other witness mobile no.");else this.globalService.presentToast("Reputation - Please enter other witness name.");else this.globalService.presentToast("Reputation - Please enter witness name.");else this.globalService.presentToast("Reputation - Please enter name of any witness");else this.globalService.presentToast("Environmental - Please enter Immediate action taken to minimize Environmental impact")}onSubmit(e){this.photoGraphy.length>0&&(this.photoGraphyObject=Object.assign({},this.photoGraphy)),this.alcohalImages.length>0&&(this.alcohalImagesObject=Object.assign({},this.alcohalImages)),this.drugTestImages.length>0&&(this.drugTestImagesObject=Object.assign({},this.drugTestImages)),this.alterDutyImages.length>0&&(this.alterDutyImagesObject=Object.assign({},this.alterDutyImages)),this.damageImages.length>0&&(this.damageImagesObject=Object.assign({},this.damageImages)),this.chemicalImages.length>0&&(this.chemicalImagesObject=Object.assign({},this.chemicalImages));let i=JSON.parse(localStorage.getItem("userDetails")),t=!1;if("submit"==e&&(t=this.validation()),"submit"==e&&t||"incomplete_submit"==e&&0==t){let t=new FormData;t.append("incident_value",this.incidentForm.value.incident_value?this.incidentForm.value.incident_value:""),t.append("incident_near_miss",this.incidentForm.value.incident_near_miss?this.incidentForm.value.incident_near_miss:""),t.append("incident_near_miss_other",this.incidentForm.value.incident_near_miss_other?this.incidentForm.value.incident_near_miss_other:""),t.append("photography_image",JSON.stringify(this.photoGraphyObject)),t.append("incident_description",this.incidentDesForm.value.incident_description?this.incidentDesForm.value.incident_description:""),t.append("incident_description_action",this.incidentDesForm.value.incident_description_action?this.incidentDesForm.value.incident_description_action:""),t.append("incident_description_alcohol_test",this.incidentDesForm.value.incident_description_alcohol_test?this.incidentDesForm.value.incident_description_alcohol_test:""),t.append("alcohol_test_completed",this.incidentDesForm.value.incident_description_alcohol_test?this.incidentDesForm.value.incident_description_alcohol_test:""),t.append("drug_test_completed",this.incidentDesForm.value.drug_test_completed?this.incidentDesForm.value.drug_test_completed:""),t.append("seen_differently",this.incidentDesForm.value.seen_differently?this.incidentDesForm.value.seen_differently:""),t.append("was_there_any_witness_of_the_incident",this.was_there_any_witness_of_the_incident&&this.was_there_any_witness_of_the_incident.employee_id?this.was_there_any_witness_of_the_incident.employee_id:""),t.append("incdesc_other_witness_details",JSON.stringify(this.incidentDesForm.value.incdesc_other_witness_details)),t.append("return_to_alternate_duties",this.incidentDesForm.value.return_to_alternate_duties?this.incidentDesForm.value.return_to_alternate_duties:""),t.append("alcohol_test_image",JSON.stringify(this.alcohalImagesObject)),t.append("drug_test_image",JSON.stringify(this.drugTestImagesObject)),t.append("return_to_alternate_duties_image",JSON.stringify(this.alterDutyImagesObject)),t.append("classification_value",this.classificationForm.value.classification_value.length>0?this.classificationForm.value.classification_value.join(","):""),t.append("date_of_incident",this.classificationForm.value.date_of_incident?this.classificationForm.value.date_of_incident:""),t.append("time_of_incident",this.classificationForm.value.time_of_incident?this.classificationForm.value.time_of_incident:""),t.append("date_reported",this.classificationForm.value.date_reported?this.classificationForm.value.date_reported:""),t.append("time_reported",this.classificationForm.value.time_reported?this.classificationForm.value.time_reported:""),t.append("classification_location_option",this.classificationForm.value.classification_location_option?this.classificationForm.value.classification_location_option:""),"Add Location"==this.classificationForm.value.classification_location_option&&t.append("classification_location_value",this.classificationForm.value.classification_location_value?this.classificationForm.value.classification_location_value:""),"Choose Location"==this.classificationForm.value.classification_location_option&&t.append("classification_location_value",this.classificationForm.value.classification_location_value1?this.classificationForm.value.classification_location_value1:""),t.append("classification_shift_type",this.classificationForm.value.classification_shift_type?this.classificationForm.value.classification_shift_type:""),t.append("classification_supervisor",this.classification_supervisor&&this.classification_supervisor.employee_id?this.classification_supervisor.employee_id:""),t.append("classification_supervisor_other_details",JSON.stringify(this.classificationForm.value.classification_supervisor_other_details)),t.append("classification_manager",this.classification_manager&&this.classification_manager.employee_id?this.classification_manager.employee_id:""),t.append("classification_manager_other_details",JSON.stringify(this.classificationForm.value.classification_manager_other_details)),t.append("injury_persons",this.injuryForm.value.injury_persons?this.injuryForm.value.injury_persons:""),t.append("person_details",JSON.stringify(this.injuryForm.value.person_details)),t.append("environmental_description",this.enviornmentForm.value.environmental_description?this.enviornmentForm.value.environmental_description:""),t.append("was_a_chemical_split",this.enviornmentForm.value.was_a_chemical_split?this.enviornmentForm.value.was_a_chemical_split:""),t.append("chemical_details",JSON.stringify(this.enviornmentForm.value.chemical_details)),t.append("emergency_spill_kit_used",this.enviornmentForm.value.emergency_spill_kit_used?this.enviornmentForm.value.emergency_spill_kit_used:""),t.append("out_of_split_kit",this.enviornmentForm.value.out_of_split_kit?this.enviornmentForm.value.out_of_split_kit:""),t.append("reputation_option",this.reputationDesForm.value.reputation_option?this.reputationDesForm.value.reputation_option:""),t.append("individual_damage_value",this.reputationDesForm.value.individual_damage_value?this.reputationDesForm.value.individual_damage_value:""),t.append("company_damage_value",this.reputationDesForm.value.company_damage_value?this.reputationDesForm.value.company_damage_value:""),t.append("reputation_negative_effect",this.reputationDesForm.value.reputation_negative_effect?this.reputationDesForm.value.reputation_negative_effect:""),t.append("effected_department",this.reputationDesForm.value.effected_department?this.reputationDesForm.value.effected_department:""),t.append("external_party",this.reputationDesForm.value.external_party?this.reputationDesForm.value.external_party:""),t.append("name_of_witness",this.name_of_witness&&this.name_of_witness.employee_id?this.name_of_witness.employee_id:""),t.append("other_witness_details",JSON.stringify(this.reputationDesForm.value.other_witness_details)),t.append("possible_outcome_incident",this.reputationDesForm.value.possible_outcome_incident?this.reputationDesForm.value.possible_outcome_incident:""),t.append("security_option",this.securityForm.value.security_option?this.securityForm.value.security_option:""),"IT"==this.securityForm.value.security_option&&t.append("it_option_value",this.securityForm.value.it_option_value.length>0?this.securityForm.value.it_option_value.join(","):""),t.append("what_has_been_stolen_item",this.securityForm.value.what_has_been_stolen_item?this.securityForm.value.what_has_been_stolen_item:""),t.append("approximate_value_of_stolen",this.securityForm.value.approximate_value_of_stolen?this.securityForm.value.approximate_value_of_stolen:""),t.append("what_is_the_specific_securities_incident",this.securityForm.value.what_is_the_specific_securities_incident?this.securityForm.value.what_is_the_specific_securities_incident:""),t.append("asset_description",this.assetDescriptionForm.value.asset_description?this.assetDescriptionForm.value.asset_description:""),t.append("asset_has_number",this.assetDescriptionForm.value.asset_has_number?this.assetDescriptionForm.value.asset_has_number:""),"Yes"==this.assetDescriptionForm.value.asset_has_number&&t.append("asset_number",this.assetDescriptionForm.value.asset_number?this.assetDescriptionForm.value.asset_number:""),t.append("extent_of_damage",this.assetDescriptionForm.value.extent_of_damage?this.assetDescriptionForm.value.extent_of_damage:""),t.append("extent_damage_image",JSON.stringify(this.damageImagesObject)),t.append("report",this.reportForm.value.report?this.reportForm.value.report:""),t.append("user_id",i.id),this.globalService.postData("submit"==e?"add_form/submit":"Add_form/submit_incomplete",t).subscribe(e=>{e.status?(this.globalService.presentToast(e.message),this.nav.navigateRoot("incident-form-list")):this.globalService.presentToast(e.message)},e=>{console.log("err",e)})}}onClassificationChange(e){const i=this.classificationForm.get("classification_value");if(e.detail.checked){if("Asset"==e.detail.value&&this.assetDescriptionForm.reset(),"Environmental"==e.detail.value&&this.enviornmentForm.reset(),"Injury"==e.detail.value){this.injuryForm.reset();for(let e=0;e<this.injuryPersonDetails.length;e++)this.injuryPersonDetails.removeAt(e)}"Report"==e.detail.value&&this.reputationDesForm.reset(),"Reputation"==e.detail.value&&this.reportForm.reset(),"Security"==e.detail.value&&this.securityForm.reset(),i.push(new o.NI(e.detail.value)),this.classificationList.find(i=>{i.val==e.detail.value&&(i.isChecked=!0)})}else{let t=0;i.controls.forEach(n=>{n.value!=e.detail.value?t++:i.removeAt(t)}),this.classificationList.find(i=>{i.val==e.detail.value&&(i.isChecked=!1)})}this.selectedTabList=i.value}onSecurityOption(e){"IT"==e.detail.value?(this.securityForm.controls.what_has_been_stolen_item.reset(),this.securityForm.controls.approximate_value_of_stolen.reset(),this.securityForm.controls.what_is_the_specific_securities_incident.reset()):"Theft"==e.detail.value?(this.itSecurityList.find(e=>{e.isChecked=!1}),this.securityForm.controls.what_is_the_specific_securities_incident.reset()):"Other"==e.detail.value&&(this.itSecurityList.find(e=>{e.isChecked=!1}),this.securityForm.controls.what_has_been_stolen_item.reset(),this.securityForm.controls.approximate_value_of_stolen.reset())}onSecurityItOption(e){const i=this.securityForm.get("it_option_value");if(e.target.checked)i.push(new o.NI(e.target.value)),this.itSecurityList.find(i=>{i.val==e.target.value&&(i.isChecked=!0)});else{let t=0;i.controls.forEach(n=>{n.value!=e.target.value?t++:i.removeAt(t)}),this.itSecurityList.find(i=>{i.val==e.target.value&&(i.isChecked=!1)})}}onReputationDamagesCheckBox(e){const i=this.reputationDesForm.get("reputation_option");if(e.detail.checked)i.push(new o.NI(e.detail.value)),this.reputationCheckBox.find(i=>{i.val==e.detail.value&&(i.isChecked=e.detail.checked)});else{let t=0;i.controls.forEach(n=>{n.value!=e.detail.value?t++:i.removeAt(t)}),this.reputationCheckBox.find(i=>{i.val==e.detail.value&&(i.isChecked=!1)})}this.onProgressBar("","")}onDepartmentEffectCheckBox(e){const i=this.reputationDesForm.get("effected_department");if(e.detail.checked)i.push(new o.NI(e.detail.value)),this.departmentEffect.find(i=>{i.val==e.detail.value&&(i.isChecked=e.detail.checked)});else{let t=0;i.controls.forEach(n=>{n.value!=e.detail.value?t++:i.removeAt(t)}),this.departmentEffect.find(i=>{i.val==e.detail.value&&(i.isChecked=!1)})}this.onProgressBar("","")}onInput(e,i){this.tabList.find(e=>{"Incident"==i&&this.incidentForm.valid?"Classification"!=e.val&&(e.tabDisable=!1):"Incident Description"==i&&this.incidentDesForm.valid?e.tabDisable=!1:"Incident Description"==i&&this.incidentDesForm.invalid&&"Classification"==e.val&&(e.tabDisable=!0,this.selectedTabList=[],this.classificationForm.reset(),this.injuryForm.reset(),this.enviornmentForm.reset(),this.reputationDesForm.reset(),this.securityForm.reset(),this.assetDescriptionForm.reset(),this.reportForm.reset()),this.onProgressBar("","")}),"Incident"==i&&e&&e.detail&&e.detail.value&&"Near Miss"!=e.detail.value&&(this.incidentForm.controls.incident_near_miss.setValue(""),this.incidentForm.controls.incident_near_miss_other.setValue(""))}get injuryPersonDetails(){return this.injuryForm.get("person_details")}injuryPersonKeys(){return this.fb.group({injured_person_option:[""],injured_person_option_id:[""],injured_person_option_other_details:this.fb.group({injured_person_option_other_name:[""],injured_person_option_other_mobile_no:[""],injured_person_option_other_email:[""]}),gender:[""],date_of_birth:[""],normal_duties:[""],normal_duties_explanation:[""],alternate_duties:[""],duties_explanation:[""],initital_injury:[""],part_of_body_injured_occured:[],was_immediate_treatment:[""],was_immediate_treatment_comment:[""],immediate_treatment_given_explanation:[""],immediate_treatment_person_name:[""],immediate_treatment_person_name_id:[""],immediate_treatment_other_person_detail:this.fb.group({immediate_treatment_other_name:[""],immediate_treatment_person_number:[""],immediate_treatment_other_email:[""]})})}onAddMultiplePersonDetails(e){let i=0;if(i=0!=this.injuryForm.value.person_details.length?parseInt(this.injuryForm.value.injury_persons)-this.injuryForm.value.person_details.length:this.injuryForm.value.injury_persons,i>0)for(let t=1;t<=i;t++)this.injuryPersonDetails.push(this.injuryPersonKeys());else if(i<0)for(let t=1;t<=Math.abs(i);t++)this.injuryPersonDetails.controls.pop(),this.injuryForm.value.person_details.pop()}onRepoNegativeEffect(e){"Internal"==e.detail.value?this.reputationDesForm.controls.external_party.setValue(""):"External"==e.detail.value&&this.reputationDesForm.controls.effected_department.setValue(""),this.onProgressBar("","")}onWitnessChange(e){"Other"!=e.detail.value&&this.reputationDesForm.controls.other_witness_details.reset()}onAdministeredPerson(e,i){this.employeeList.filter(t=>{t.employee_id==e.detail.value&&(this.injuryForm.controls.person_details.value[i].immediate_treatment_person_number=t.emp_mobile?t.emp_mobile:t.emp_work_email)})}onIncDesWitnessChange(e){0!=e.detail.value&&this.incidentDesForm.controls.incdesc_other_witness_details.reset()}onProgressBar(e,i){let t=0,n=[],o=[];if(Object.keys(this.incidentForm.controls).map(e=>n.push(e)),Object.values(this.incidentForm.value).map(e=>o.push(e)),this.incidentForm.valid){if(this.incidentForm.value.incident_value&&"Near Miss"!=this.incidentForm.value.incident_value)for(var a=0;a<n.length;a++)"incident_near_miss"===n[a]&&(n.splice(a,1),o.splice(a,1)),"incident_near_miss_other"===n[a]&&(n.splice(a,1),o.splice(a,1));for(Object.keys(this.photoGraphyForm.controls).map(e=>n.push(e)),Object.values(this.photoGraphyForm.value).map(e=>o.push(e)),Object.keys(this.incidentDesForm.controls).map(e=>n.push(e)),Object.values(this.incidentDesForm.value).map(e=>o.push(e)),a=0;a<=n.length;a++)"incdesc_other_witness_details"===n[a]&&(n.splice(a,1),o.splice(a,1)),""!=this.incidentDesForm.value.incident_description_alcohol_test&&"Yes"==this.incidentDesForm.value.incident_description_alcohol_test||"alcohol_test_image"!==n[a]||(n.splice(a,1),o.splice(a,1)),""!=this.incidentDesForm.value.drug_test_completed&&"Yes"==this.incidentDesForm.value.drug_test_completed||"drug_test_image"!==n[a]||(n.splice(a,1),o.splice(a,1)),""!=this.incidentDesForm.value.return_to_alternate_duties&&"Yes"==this.incidentDesForm.value.return_to_alternate_duties||"return_to_alternate_duties_image"!==n[a]||(n.splice(a,1),o.splice(a,1));if("Other"==this.incidentDesForm.value.was_there_any_witness_of_the_incident&&(n.push("incdesc_other_witness_name"),o.push(null!=this.incidentDesForm.value.incdesc_other_witness_details.incdesc_other_witness_name?this.incidentDesForm.value.incdesc_other_witness_details.incdesc_other_witness_name:""),n.push("incdesc_other_witness_mobile_no"),o.push(null!=this.incidentDesForm.value.incdesc_other_witness_details.incdesc_other_witness_mobile_no?this.incidentDesForm.value.incdesc_other_witness_details.incdesc_other_witness_mobile_no:""),n.push("incdesc_other_witness_email"),o.push(null!=this.incidentDesForm.value.incdesc_other_witness_details.incdesc_other_witness_email?this.incidentDesForm.value.incdesc_other_witness_details.incdesc_other_witness_email:"")),this.incidentDesForm.valid){for(Object.keys(this.classificationForm.value).map(e=>n.push(e)),Object.values(this.classificationForm.value).map(e=>o.push(e)),a=0;a<n.length;a++)"classification_supervisor_other_details"===n[a]&&(n.splice(a,1),o.splice(a,1)),"classification_manager_other_details"===n[a]&&(n.splice(a,1),o.splice(a,1)),"classification_location_value"===n[a]&&(n.splice(a,1),o.splice(a,1)),"classification_location_value1"===n[a]&&(n.splice(a,1),o.splice(a,1));for("Add Location"==this.classificationForm.value.classification_location_option?(n.push("classification_location_value"),o.push(this.classificationForm.value.classification_location_value)):"Choose Location"==this.classificationForm.value.classification_location_option&&(n.push("classification_location_value1"),o.push(this.classificationForm.value.classification_location_value1)),"Other"==this.classificationForm.value.classification_supervisor&&(n.push("classification_supervisor_other_name"),o.push(this.classificationForm.value.classification_supervisor_other_details.classification_supervisor_other_name),n.push("classification_supervisor_other_mobile_no"),o.push(this.classificationForm.value.classification_supervisor_other_details.classification_supervisor_other_mobile_no),n.push("classification_supervisor_other_email"),o.push(this.classificationForm.value.classification_supervisor_other_details.classification_supervisor_other_email)),"Other"==this.classificationForm.value.classification_manager&&(n.push("classification_manager_other_name"),o.push(this.classificationForm.value.classification_manager_other_details.classification_manager_other_name),n.push("classification_manager_other_mobile_no"),o.push(this.classificationForm.value.classification_manager_other_details.classification_manager_other_mobile_no),n.push("classification_manager_other_email"),o.push(this.classificationForm.value.classification_manager_other_details.classification_manager_other_email)),this.classificationList.forEach(e=>{"Asset"==e.val&&e.isChecked&&(Object.keys(this.assetDescriptionForm.controls).map(e=>n.push(e)),Object.values(this.assetDescriptionForm.value).map(e=>o.push(e))),"Environmental"==e.val&&e.isChecked&&(Object.keys(this.enviornmentForm.controls).map(e=>n.push(e)),Object.values(this.enviornmentForm.value).map(e=>o.push(e))),"Injury"==e.val&&e.isChecked&&(n.push("injury_persons"),o.push(this.injuryForm.value.injury_persons)),"Report"==e.val&&e.isChecked&&(Object.keys(this.reportForm.controls).map(e=>n.push(e)),Object.values(this.reportForm.value).map(e=>o.push(e))),"Reputation"==e.val&&e.isChecked&&(n.push("reputation_option"),o.push(this.reputationDesForm.value.reputation_option),n.push("reputation_negative_effect"),o.push(this.reputationDesForm.value.reputation_negative_effect),n.push("name_of_witness"),o.push(this.reputationDesForm.value.name_of_witness),n.push("possible_outcome_incident"),o.push(this.reputationDesForm.value.possible_outcome_incident),this.reputationDesForm.value.reputation_option&&this.reputationDesForm.value.reputation_option.length>0&&("Company"!=this.reputationDesForm.value.reputation_option[0]&&"Company"!=this.reputationDesForm.value.reputation_option[1]||(n.push("company_damage_value"),o.push(this.reputationDesForm.value.company_damage_value)),"Individual"!=this.reputationDesForm.value.reputation_option[0]&&"Individual"!=this.reputationDesForm.value.reputation_option[1]||(n.push("individual_damage_value"),o.push(this.reputationDesForm.value.individual_damage_value))),""!=this.reputationDesForm.value.reputation_negative_effect&&"Internal"==this.reputationDesForm.value.reputation_negative_effect?(n.push("effected_department"),o.push(this.reputationDesForm.value.effected_department)):""!=this.reputationDesForm.value.reputation_negative_effect&&"External"==this.reputationDesForm.value.reputation_negative_effect?(n.push("external_party"),o.push(this.reputationDesForm.value.external_party)):"Both"==this.reputationDesForm.value.reputation_negative_effect&&(n.push("effected_department"),o.push(this.reputationDesForm.value.effected_department),n.push("external_party"),o.push(this.reputationDesForm.value.external_party)),"Other"==this.reputationDesForm.value.name_of_witness&&(n.push("other_witness_name"),o.push(this.reputationDesForm.value.other_witness_details.other_witness_name),n.push("other_witness_mobile_no"),o.push(this.reputationDesForm.value.other_witness_details.other_witness_mobile_no),n.push("other_witness_email"),o.push(this.reputationDesForm.value.other_witness_details.other_witness_email))),"Security"==e.val&&e.isChecked&&(n.push("security_option"),o.push(this.securityForm.value.security_option),"IT"==this.securityForm.value.security_option&&(n.push("it_option_value"),o.push(this.securityForm.value.it_option_value)),"Theft"==this.securityForm.value.security_option&&(n.push("what_has_been_stolen_item"),o.push(this.securityForm.value.what_has_been_stolen_item),n.push("approximate_value_of_stolen"),o.push(this.securityForm.value.approximate_value_of_stolen)),"Other"==this.securityForm.value.security_option&&(n.push("what_is_the_specific_securities_incident"),o.push(this.securityForm.value.what_is_the_specific_securities_incident)))}),a=0;a<n.length;a++)"Yes"!=this.assetDescriptionForm.value.asset_has_number&&"asset_number"===n[a]&&(n.splice(a,1),o.splice(a,1)),"chemical_details"===n[a]&&(n.splice(a,1),o.splice(a,1)),"out_of_split_kit"===n[a]&&(n.splice(a,1),o.splice(a,1));if("Yes"==this.enviornmentForm.value.was_a_chemical_split&&(n.push("chemical_name"),o.push(this.enviornmentForm.value.chemical_details.chemical_name),n.push("approximate_quantity"),o.push(this.enviornmentForm.value.chemical_details.approximate_quantity),this.enviornmentForm.value.chemical_details.insertPhotoCheckBox&&(n.push("chemical_photo"),o.push(this.enviornmentForm.value.chemical_details.chemical_photo))),"Yes"==this.enviornmentForm.value.emergency_spill_kit_used&&(n.push("out_of_split_kit"),o.push(this.enviornmentForm.value.out_of_split_kit)),""!=this.injuryForm.value.injury_persons&&null!=this.injuryForm.value.injury_persons)for(let e=0;e<this.injuryForm.value.injury_persons;e++)Object.keys(this.injuryForm.value.person_details[e]).forEach((i,t)=>{"injured_person_option_id"!=i&&"injured_person_option_other_details"!=i&&"normal_duties_explanation"!=i&&"duties_explanation"!=i&&"immediate_treatment_person_name_id"!=i&&"immediate_treatment_given_explanation"!=i&&"immediate_treatment_person_name"!=i&&"immediate_treatment_other_person_detail"!=i&&"was_immediate_treatment_comment"!=i&&(n.push(i+"_"+e),o.push(Object.values(this.injuryForm.value.person_details[e])[t])),"injured_person_option"==i&&"Other"==this.injuryForm.value.person_details[e].injured_person_option&&(n.push("injured_person_option_other_name_"+e),o.push(this.injuryForm.value.person_details[e].injured_person_option_other_details.injured_person_option_other_name),n.push("injured_person_option_other_mobile_no_"+e),o.push(this.injuryForm.value.person_details[e].injured_person_option_other_details.injured_person_option_other_mobile_no),n.push("injured_person_option_other_email_"+e),o.push(this.injuryForm.value.person_details[e].injured_person_option_other_details.injured_person_option_other_email)),"normal_duties"==i&&"No"==this.injuryForm.value.person_details[e].normal_duties&&(n.push("normal_duties_explanation_"+e),o.push(this.injuryForm.value.person_details[e].normal_duties_explanation)),"alternate_duties"==i&&"No"==this.injuryForm.value.person_details[e].alternate_duties&&(n.push("duties_explanation_"+e),o.push(this.injuryForm.value.person_details[e].duties_explanation)),"was_immediate_treatment"==i&&"Yes"==this.injuryForm.value.person_details[e].was_immediate_treatment&&(n.push("immediate_treatment_given_explanation_"+e),o.push(this.injuryForm.value.person_details[e].immediate_treatment_given_explanation),n.push("immediate_treatment_person_name_"+e),o.push(this.injuryForm.value.person_details[e].immediate_treatment_person_name),"Other"==this.injuryForm.value.person_details[e].immediate_treatment_person_name&&(n.push("immediate_treatment_other_name_"+e),o.push(this.injuryForm.value.person_details[e].immediate_treatment_other_person_detail.immediate_treatment_other_name)),n.push("immediate_treatment_person_number_"+e),o.push(this.injuryForm.value.person_details[e].immediate_treatment_other_person_detail.immediate_treatment_person_number),n.push("immediate_treatment_other_email_"+e),o.push(this.injuryForm.value.person_details[e].immediate_treatment_other_person_detail.immediate_treatment_other_email)),"was_immediate_treatment"==i&&"No"==this.injuryForm.value.person_details[e].was_immediate_treatment&&(n.push("was_immediate_treatment_comment_"+e),o.push(this.injuryForm.value.person_details[e].was_immediate_treatment_comment))})}}n.forEach((e,i)=>{""!=o[i]&&null!=o[i]&&null!=o[i]&&o[i].length>0&&(t=++t)}),this.form_percent=1/n.length*t,this.form_percent_val=parseInt((1/n.length*t*100).toFixed())}onImmediateTreatment(e,i){"Yes"==e.detail.value&&this.injuryPersonDetails.controls[i].patchValue({was_immediate_treatment_comment:""}),"No"==e.detail.value&&this.injuryPersonDetails.controls[i].patchValue({immediate_treatment_given_explanation:"",immediate_treatment_person_name:"",immediate_treatment_person_name_id:"",immediate_treatment_other_person_detail:{immediate_treatment_other_name:"",immediate_treatment_person_number:"",immediate_treatment_other_email:""}})}onImageClick(e){console.log("bodypartname",e)}}return e.\u0275fac=function(i){return new(i||e)(_.Y36(p.U),_.Y36(d.F),_.Y36(a.IN),_.Y36(a.BX),_.Y36(h.V1),_.Y36(o.qu),_.Y36(a.SH),_.Y36(g.b))},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-incident-form"]],decls:36,vars:5,consts:[[1,"toolbar"],[1,"back"],[3,"click"],["slot","icon-only","name","chevron-back"],[1,"saveBtn",3,"click"],["slot","icon-only","name","save-outline"],[1,"container"],["size-xl","3","size-lg","2","size-md","2"],["size-xl","6","size-lg","8","size-md","8","size-sm","12","size-xs","12"],[1,"question"],[1,"ion-padding-start","ion-padding-end"],[1,"activeBackground"],["size-xl","10","size-lg","10","size-md","10","size-sm","10","size-xs","9"],["size-xl","2","size-lg","2","size-md","2","size-sm","2","size-xs","3"],["size","12"],[3,"value"],[4,"ngFor","ngForOf"],[1,"btn",3,"click"],["class","incident",3,"disabled","click",4,"ngIf"],["class","activeBackground",4,"ngIf"],["class","activeBackground",3,"formGroup","ionChange",4,"ngIf"],["class","activeBackground",3,"ionChange",4,"ngIf"],[1,"incident",3,"disabled","click"],[1,"plus",3,"src"],[1,"headerTitle"],[1,"plus",3,"src","click"],[3,"formGroup","ionChange"],["formControlName","incident_value",3,"ionChange"],["size-xl","4","size-lg","4","size-md","6","size-sm","6","size-xs","12"],["lines","none",1,"ra"],["slot","start","value","Actual"],["slot","start","value","Near Miss"],["size-xl","4","size-lg","4","size-md","6","size-sm","12","size-xs","12"],[1,"ion-text-wrap"],["slot","start","value","Serious potential incident (SPI)"],[4,"ngIf"],["lines","none",1,"ra",3,"click"],["placeholder","Please select who witnessed the near miss","formControlName","incident_near_miss"],["slot","end",1,"ion-no-padding","ion-no-margin"],[1,"ion-no-padding","ion-no-margin"],["name","caret-down-outline",1,"btn-icon"],["placeholder","Please enter possible consequence under different circumstances","formControlName","incident_near_miss_other"],[1,"activeBackground",3,"formGroup","ionChange"],["class","preview-slides",4,"ngIf"],["expand","block",1,"camera",3,"click"],["type","file","value","photography_image","multiple","",3,"change"],[1,"preview-slides"],["size","11"],["tappable","",3,"src","click"],["size","1"],["name","close",3,"click"],[1,"activeBackground",3,"ionChange"],[3,"formGroup"],[1,"mandatoryField"],["placeholder","Please enter description of incident","formControlName","incident_description",3,"ionChange"],["placeholder","Please enter immediate action taken","formControlName","incident_description_action",3,"ionChange"],["placeholder","Please enter what could have been done differently","formControlName","seen_differently"],["placeholder","Please select witness","formControlName","was_there_any_witness_of_the_incident"],["formGroupName","incdesc_other_witness_details",4,"ngIf"],["formControlName","incident_description_alcohol_test",3,"ionChange"],["size-md","6","size-lg","4"],["slot","start","value","Yes"],["slot","start","value","No"],["slot","start","value","Not Required"],["formControlName","drug_test_completed",3,"ionChange"],["formControlName","return_to_alternate_duties",3,"ionChange"],["formGroupName","incdesc_other_witness_details"],[1,"other_witness"],["placeholder","Please enter Other Witness Name","formControlName","incdesc_other_witness_name"],["type","tel","placeholder","Please enter Other Witness Mobile No ","formControlName","incdesc_other_witness_mobile_no"],["type","email","placeholder","Please enter Other Witness Email","formControlName","incdesc_other_witness_email"],["type","file","value","alcohol_test_image","multiple","",3,"change"],["class","camera","expand","block",3,"click",4,"ngIf"],["type","file","value","drug_test_image","multiple","",3,"change"],["type","file","value","return_to_alternate_duties_image","multiple","",1,"uploadFile",3,"change"],[1,"ion-no-padding"],["size","6",4,"ngFor","ngForOf"],["displayFormat","DD/MM/YYYY","placeholder","Please select date of incident","value","","formControlName","date_of_incident","min","2000"],["displayFormat","HH:mm:ss","placeholder","Please select time of incident","value","","formControlName","time_of_incident"],["displayFormat","DD/MM/YYYY","placeholder","Please select reported date","value","","formControlName","date_reported","min","2000"],["displayFormat","HH:mm:ss","placeholder","Please select reported time","value","","formControlName","time_reported"],["formControlName","classification_location_option"],["slot","start","value","Add Location"],["slot","start","value","Choose Location"],["placeholder","Please select shift Type","interface","action-sheet","formControlName","classification_shift_type"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Please select supervisor","formControlName","classification_supervisor"],["formGroupName","classification_supervisor_other_details",4,"ngIf"],["placeholder","Please select manager","formControlName","classification_manager"],["formGroupName","classification_manager_other_details",4,"ngIf"],["size","6"],["slot","start",3,"value","checked","ionChange"],["placeholder","Please enter location","formControlName","classification_location_value"],["placeholder","Please select location","interface","action-sheet","formControlName","classification_location_value1"],["formGroupName","classification_supervisor_other_details"],["placeholder","Please enter other person name","formControlName","classification_supervisor_other_name"],["type","tel","placeholder","Please enter other person mobile no ","formControlName","classification_supervisor_other_mobile_no"],["type","email","placeholder","Please enter other person email","formControlName","classification_supervisor_other_email"],["formGroupName","classification_manager_other_details"],["placeholder","Please enter Other Witness Name","formControlName","classification_manager_other_name"],["type","tel","placeholder","Please enter Other Witness Mobile No ","formControlName","classification_manager_other_mobile_no"],["type","email","placeholder","Please enter Other Witness Email","formControlName","classification_manager_other_email"],["class","incident",3,"click",4,"ngIf"],[1,"incident",3,"click"],["placeholder","Please enter asset description","formControlName","asset_description"],["formControlName","asset_has_number"],["size","6",1,"ion-no-padding"],["placeholder","Please enter extent of damage","formControlName","extent_of_damage"],["placeholder","Please enter asset number","type","tel","formControlName","asset_number"],["type","file","value","extent_damage_image","multiple","",3,"change"],["placeholder","Please enter immediate action taken to minimize environmental impact","formControlName","environmental_description"],["formControlName","was_a_chemical_split"],["formGroupName","chemical_details",4,"ngIf"],["formControlName","emergency_spill_kit_used"],["formGroupName","chemical_details"],["placeholder","Please enter name of chemical","formControlName","chemical_name"],["slot","start","formControlName","insertPhotoCheckBox",3,"ionChange"],["placeholder","Please enter approximate qunatity of chemical spilled","type","tel","formControlName","approximate_quantity"],["type","file","value","chemical_photo","multiple","",3,"change"],["placeholder","Please enter what was used out of the chemical spill kit ?","formControlName","out_of_split_kit"],["placeholder","Please select Injured Person","interface","action-sheet","formControlName","injury_persons",3,"ionChange"],["value","1"],["value","2"],["value","3"],["value","4"],["formArrayName","person_details",4,"ngFor","ngForOf"],["formArrayName","person_details"],[1,"questionHead"],[3,"formGroupName"],["placeholder","Please select Injured Person Name","formControlName","injured_person_option"],["formGroupName","injured_person_option_other_details",4,"ngIf"],["placeholder","Please select gender","interface","action-sheet","formControlName","gender"],["value","Male"],["value","Female"],["value","Other"],["placeholder","Please select date of birth","displayFormat","DD/MM/YYYY","formControlName","date_of_birth"],["formControlName","normal_duties"],["formControlName","alternate_duties"],["formControlName","initital_injury"],["multiple","true","cancelText","Cancel","okText","Ok","formControlName","part_of_body_injured_occured","placeholder","Select Part of body injured"],["formControlName","was_immediate_treatment",3,"ionChange"],["formGroupName","injured_person_option_other_details"],["placeholder","Please enter other person name","formControlName","injured_person_option_other_name"],["type","tel","placeholder","Please enter other person mobile no ","formControlName","injured_person_option_other_mobile_no"],["type","email","placeholder","Please enter other person email","formControlName","injured_person_option_other_email"],["placeholder","Please enter explanation","formControlName","normal_duties_explanation"],["placeholder","Please enter explanation","formControlName","duties_explanation"],["slot","start",3,"value"],["class","mandatoryField ion-text-wrap",4,"ngIf"],[1,"mandatoryField","ion-text-wrap"],["usemap","#image-map",3,"src"],["name","image-map"],["target","_self","alt","Head","title","Head","href","javascript:void(0)","coords","68,11,20","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Face","title","Face","href","javascript:void(0)","coords","69,20,33","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Neck","title","Neck","href","javascript:void(0)","coords","72,48,16","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Left Shoulder","title","Left Shoulder","href","javascript:void(0)","coords","50,64,22","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Right Shoulder","title","Right Shoulder","href","javascript:void(0)","coords","90,53,21","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Left hand","title","Left hand","coords","68,97,73","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Right hand","title","Right hand","href","javascript:void(0)","coords","107,68,79","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Left palm","title","Left palm","href","javascript:void(0)","coords","20,154,17","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Left hand finger","title","Left hand finger","href","javascript:void(0)","coords","14,169,12","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Left hand thumb","title","Left hand thumb","href","javascript:void(0)","coords","8,157,9","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Right hand palm","title","Right hand palm","href","javascript:void(0)","coords","130,150,17","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Right hand finger","title","Right hand finger","href","javascript:void(0)","coords","133,168,16","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Right hand thumb","title","Right hand thumb","href","javascript:void(0)","coords","144,155,6","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Upper Abdomen","title","Upper Abdomen","href","javascript:void(0)","coords","62,120,37","shape","circle",1,"areaa",3,"click"],["target","_self","alt","Lower Abdomen","title","Lower Abdomen","href","javascript:void(0)","coords","53,132,48","shape","circle",1,"areaa",3,"click"],["placeholder","Please enter what treatment was given ","formControlName","immediate_treatment_given_explanation"],["placeholder","Please select person","formControlName","immediate_treatment_person_name"],["formGroupName","immediate_treatment_other_person_detail",4,"ngIf"],["formGroupName","immediate_treatment_other_person_detail"],["type","tel","placeholder","Please enter other person mobile no ","formControlName","immediate_treatment_person_number"],["type","email","placeholder","Please enter other person email","formControlName","immediate_treatment_other_email"],["placeholder","Please enter other person name","formControlName","immediate_treatment_other_name"],[1,"error"],["placeholder","Enter Comment","autoGrow","true","formControlName","was_immediate_treatment_comment"],["placeholder","Please enter what could have done differently","formControlName","report"],["lines","none","class","ion-no-padding ra",4,"ngFor","ngForOf"],["formControlName","reputation_negative_effect",3,"ionChange"],["size-xl","4","size-lg","4","size-md","4","size-sm","12","size-xs","12"],["slot","start","value","Internal"],["slot","start","value","External"],["slot","start","value","Both"],["placeholder","Please select witness","formControlName","name_of_witness"],["formGroupName","other_witness_details",4,"ngIf"],["placeholder","Please enter  what is the possible outcome of this incident","formControlName","possible_outcome_incident"],["lines","none",1,"ion-no-padding","ra"],["slot","end",3,"value","checked","ionChange"],["placeholder","Please enter how has the individual's reputation been damaged","formControlName","individual_damage_value"],["placeholder","Please enter how has the compnay's reputation been damaged","formControlName","company_damage_value"],["lines","none","class","ra ion-no-padding",4,"ngFor","ngForOf"],["lines","none",1,"ra","ion-no-padding"],["placeholder","Please enter who is the external party","formControlName","external_party"],["formGroupName","other_witness_details"],["placeholder","Please enter Other Witness Name","formControlName","other_witness_name"],["type","tel","placeholder","Please enter Other Witness Mobile No ","formControlName","other_witness_mobile_no"],["type","email","placeholder","Please enter Other Witness Email","formControlName","other_witness_email"],["formControlName","security_option",3,"ionChange"],["slot","start","value","IT"],["slot","start","value","Theft"],["slot","start","value","Other"],["size","6","class","ion-no-padding ",4,"ngFor","ngForOf"],["placeholder","Please enter what has been stolen","formControlName","what_has_been_stolen_item"],["placeholder","Please enter approximate value of stolen item","formControlName","approximate_value_of_stolen"],["placeholder","Please enter what is the Security incident","formControlName","what_is_the_specific_securities_incident"]],template:function(e,i){1&e&&(_.TgZ(0,"ion-content"),_.TgZ(1,"div",0),_.TgZ(2,"ion-text"),_._uU(3,"Incident Form"),_.qZA(),_.TgZ(4,"ion-buttons",1),_.TgZ(5,"ion-button",2),_.NdJ("click",function(){return i.nav.back()}),_._UZ(6,"ion-icon",3),_.qZA(),_.qZA(),_.TgZ(7,"ion-buttons",4),_.NdJ("click",function(){return i.onSubmit("incomplete_submit")}),_.TgZ(8,"ion-button"),_._UZ(9,"ion-icon",5),_.qZA(),_.qZA(),_.qZA(),_.TgZ(10,"div",6),_.TgZ(11,"ion-row"),_._UZ(12,"ion-col",7),_.TgZ(13,"ion-col",8),_.TgZ(14,"p",9),_._uU(15,"ReacIncident report"),_.qZA(),_.qZA(),_._UZ(16,"ion-col",7),_.qZA(),_.qZA(),_.TgZ(17,"ion-row"),_._UZ(18,"ion-col",7),_.TgZ(19,"ion-col",8),_.TgZ(20,"div",10),_.TgZ(21,"div",11),_.TgZ(22,"ion-row"),_.TgZ(23,"ion-col",12),_._uU(24," Form progress bar "),_.qZA(),_.TgZ(25,"ion-col",13),_._uU(26),_.qZA(),_.qZA(),_.TgZ(27,"ion-row"),_.TgZ(28,"ion-col",14),_._UZ(29,"ion-progress-bar",15),_.qZA(),_.qZA(),_.qZA(),_.YNc(30,V,6,5,"div",16),_.YNc(31,Se,8,7,"div",16),_.qZA(),_.TgZ(32,"div",6),_.TgZ(33,"ion-button",17),_.NdJ("click",function(){return i.onSubmit("submit")}),_._uU(34,"SUBMIT"),_.qZA(),_.qZA(),_.qZA(),_._UZ(35,"ion-col",7),_.qZA(),_.qZA()),2&e&&(_.xp6(26),_.AsE(" ",i.form_percent_val,"","%"," "),_.xp6(3),_.Q6J("value",i.form_percent),_.xp6(1),_.Q6J("ngForOf",i.tabList),_.xp6(1),_.Q6J("ngForOf",i.selectedTabList))},directives:[a.W2,a.yW,a.Sm,a.YG,a.gu,a.Nd,a.wI,a.X7,n.sg,n.O5,o.JL,o.sg,a.se,a.QI,o.JJ,o.u,a.Ie,a.Q$,a.B7,a.U5,a.pK,a.j9,a.Hr,a.A$,a.jY,o.x0,a.x4,a.t9,a.nz,a.w,a.n0,o.CE,a.PM,a.g2],styles:["ion-content[_ngcontent-%COMP%]   .saveBtn[_ngcontent-%COMP%]{position:absolute;right:0;top:30px}ion-content[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{height:18px;width:18px;-o-object-fit:contain;object-fit:contain}ion-content[_ngcontent-%COMP%]   .incident[_ngcontent-%COMP%]{font-family:mon-bold;width:100%;--background:#e0e0e0;overflow:hidden!important;height:52px;--border-radius:31px;border-radius:31px;align-items:flex-start;align-content:flex-start;justify-content:flex-start;margin:0 0 24px}ion-content[_ngcontent-%COMP%]   .incident[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:capitalize;text-align:left;justify-content:flex-start;position:absolute;left:0;top:5px;color:#313131;font-size:20px;margin-top:10px}ion-content[_ngcontent-%COMP%]   .incident[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:3px;position:absolute;right:0}ion-content[_ngcontent-%COMP%]   .activeBackground[_ngcontent-%COMP%]{border-radius:20px;margin-bottom:22px;background-color:#f3f3f3;padding:15px;font-family:mon-bold;color:#313131}ion-content[_ngcontent-%COMP%]   .activeBackground[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:capitalize;text-align:left;justify-content:flex-start;color:#313131;font-size:20px}ion-content[_ngcontent-%COMP%]   .activeBackground[_ngcontent-%COMP%]   .headerTitle[_ngcontent-%COMP%]{display:flex;align-items:center}ion-content[_ngcontent-%COMP%]   .activeBackground[_ngcontent-%COMP%]   .headerTitle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:33px;margin-top:-8px}ion-content[_ngcontent-%COMP%]   .questionHead[_ngcontent-%COMP%]{font-family:mon-bold;font-size:20px!important}ion-content[_ngcontent-%COMP%]   .ra[_ngcontent-%COMP%]{text-transform:capitalize;--background:transparent;padding:0;margin:0;--padding-top:0px;--inner-padding-top:0;--inner-padding-end:0;--inner-padding-bottom:0;--inner-padding-start:0;--padding-bottom:0;--padding-start:0;--padding-end:0}ion-content[_ngcontent-%COMP%]   .ra[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-family:mon-medium;font-size:15px;color:var(--black-color)}ion-content[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{color:grey;height:12px;width:14px}ion-content[_ngcontent-%COMP%]   .other_witness[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px;font-size:18px!important}ion-content[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]{margin-top:16px}ion-content[_ngcontent-%COMP%]   .img-responsive[_ngcontent-%COMP%]{height:200px;width:250px;-o-object-fit:contain;object-fit:contain;border-radius:10px}ion-content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{height:1px;background:#ccc;margin-top:0;margin-bottom:0}ion-content[_ngcontent-%COMP%]   .active-area[_ngcontent-%COMP%]{color:red}ion-content[_ngcontent-%COMP%]   .areaa[_ngcontent-%COMP%]{transition:all .1s}ion-content[_ngcontent-%COMP%]   .areaa[_ngcontent-%COMP%]:hover{border:2px solid red;box-shadow:0 0 5px red}"]}),e})()}];let Le=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({imports:[[s.Bz.forChild(Ye)],s.Bz]}),e})();var He=t(69270);let Ee=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({imports:[[n.ez,o.u5,a.Pc,Le,o.UX,He.I]]}),e})()},49481:function(e,i,t){"use strict";t.d(i,{F:function(){return l}});var n=t(64762),o=t(10639),a=t(89985),s=t(47823),r=t(84267);let l=(()=>{class e{constructor(e,i,t){this.globalService=e,this.actionSheetController=i,this.camera=t,this.notViewNotiCount=0,this.prestartMenu=[{menuName:"LV",route:"#",favorite:!1,position_in_list:1},{menuName:"Forklift",route:"#",favorite:!1,position_in_list:2},{menuName:"Telehandler",route:"/home/safety-menu/telehandler-add-form",favorite:!1,position_in_list:3},{menuName:"Crane",route:"/home/safety-menu/crane-add-form",favorite:!1,position_in_list:4},{menuName:"Vehicle Hoist",route:"/home/safety-menu/vehicle-hoist-add-form",favorite:!1,position_in_list:5}]}getBase64(e){return new Promise((i,t)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>i(n.result),n.onerror=e=>t(e)})}mobileUploadImages(){return(0,n.mG)(this,void 0,void 0,function*(){let e;const i=yield this.actionSheetController.create({header:"Select Image source",buttons:[{text:"Load from Library",handler:()=>e=this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY)},{text:"Use Camera",handler:()=>e=this.pickImage(this.camera.PictureSourceType.CAMERA)},{text:"Cancel",role:"cancel"}]});yield i.present()})}pickImage(e){return(0,n.mG)(this,void 0,void 0,function*(){const i={quality:100,sourceType:e,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE};yield this.camera.getPicture(i).then(e=>{console.log("imageData",e);let i="data:image/jpeg;base64,"+e;return console.log("pickImage",i),i},e=>{console.log("errOf Image ",e)})})}resize(e){return e.innerWidth?e.innerWidth:e.target.innerWidth}}return e.\u0275fac=function(i){return new(i||e)(o.LFG(a.U),o.LFG(s.BX),o.LFG(r.V1))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);