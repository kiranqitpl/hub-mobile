{"version":3,"sources":["webpack:///src/app/pages/notification/notification-routing.module.ts","webpack:///src/app/pages/notification/notification.module.ts","webpack:///src/app/pages/notification/notification.page.ts","webpack:///src/app/services/shared-service/shared.service.ts","webpack:///src/app/pages/notification/notification.page.scss","webpack:///src/app/pages/notification/notification.page.html"],"names":["routes","path","component","NotificationPage","NotificationPageRoutingModule","NgModule","imports","RouterModule","exports","NotificationPageModule","CommonModule","FormsModule","IonicModule","SharedModuleModule","declarations","schemas","CUSTOM_ELEMENTS_SCHEMA","nav","globalService","sharedService","pName","type","environment","notificationId","notificationData","loggedInUser","size","totalElements","pageNumber","offset","JSON","parse","localStorage","getItem","onNotificationLoad","presentLoading","getData","subscribe","result","console","log","dismissLoading","error","rowId","data","filter","ele","i","val","filterArrayData","splice","push","length","formData","FormData","append","stringify","postData","presentToast","rowID","formId","formType","isSeen","formType_user","navigateRoot","formType_investigator","navigateForward","notViewNotiCount","NavController","GlobalService","SharedService","Component","selector","template","actionSheetController","camera","prestartMenu","menuName","route","favorite","position_in_list","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","create","header","buttons","text","handler","images","pickImage","PictureSourceType","PHOTOLIBRARY","CAMERA","role","actionSheet","present","sourceType","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","getPicture","then","imageData","image","err","event","innerWidth","target","ActionSheetController","Camera","Injectable","providedIn"],"mappings":"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","file":"src_app_pages_notification_notification_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotificationPage } from './notification.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NotificationPageRoutingModule {}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificationPageRoutingModule } from './notification-routing.module';\n\nimport { NotificationPage } from './notification.page';\nimport { SharedModuleModule } from 'src/app/shared-module/shared-module.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotificationPageRoutingModule,\n    SharedModuleModule\n  ],\n  declarations: [\n    NotificationPage,\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class NotificationPageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { GlobalService } from 'src/app/services/global-service/global.service';\nimport { environment } from 'src/environments/environment';\nimport { SharedService } from 'src/app/services/shared-service/shared.service';\n\n@Component({\n  selector: 'app-notification',\n  templateUrl: './notification.page.html',\n  styleUrls: ['./notification.page.scss'],\n})\nexport class NotificationPage implements OnInit {\n\n  pName: String = \"Notifications\";\n  type: any = environment.allType;\n  notificationId = [];\n  notificationData: any = '';\n  loggedInUser = '';\n\n  size: number = 10;\n  totalElements: number = 0;\n  // totalPages: number = 0;\n  pageNumber: number = 0;\n  offset: number = 0\n\n  constructor(\n    private nav: NavController,\n    private globalService: GlobalService,\n    private sharedService: SharedService\n  ) { }\n\n  ngOnInit() {\n    this.loggedInUser = JSON.parse(localStorage.getItem('userDetails'));\n    this.onNotificationLoad();\n    // this.setValueOnLoadData();\n  }\n\n  // setValueOnLoadData() {\n  //   // let screen = this.getScreenWidth < 1080 ? 'mobile' : 'web'\n\n  //   // if (screen == 'mobile') {\n  //   //   this.loadData('', 1, screen);\n  //   // } else {\n  //   let object = {\n  //     count: 60,\n  //     limit: 10,\n  //     offset: 0,\n  //     pageSize: 10,\n  //   }\n  //   this.onNotificationLoad(object, '', screen);\n  //   // }\n  // }\n\n\n  //----------------------------------- Load Notification Data ---------------------------------------------------------// \n\n  // onNotificationLoad(event, pageNo, screen) {\n  onNotificationLoad() {\n    // console.log('this.loggedInUser', this.loggedInUser, this.loggedInUser['id']);\n    // this.pageNumber = (event.offset + 1);\n    // this.offset = event.offset\n    this.globalService.presentLoading();\n    // this.globalService.getData('notification/getNotificationList/?page_no=' + this.pageNumber).subscribe((result: any) => {\n    this.globalService.getData('notification/getNotificationList/' + this.loggedInUser['id']).subscribe(result => {\n      console.log('result', result);\n      if (result && result['row_count'] > 0) {\n        this.notificationData = result['data'];\n        this.totalElements = result['row_count'];\n      } else {\n        this.notificationData = [];\n      }\n      console.log('this.notificationData ', this.notificationData);\n      this.globalService.dismissLoading();\n    }), error => {\n      this.globalService.dismissLoading();\n      console.log('error', error);\n    }\n  }\n\n  //----------------------------------- Load Notification Data ---------------------------------------------------------//\n\n  //----------------------------------- Delete Notification ---------------------------------------------------------//\n\n  filterArrayData(rowId) {\n    let data = [];\n    data['result'] = false;\n    this.notificationId.filter((ele, i) => {\n      if (ele == rowId) {\n        data['result'] = true;\n        data['index'] = i\n      }\n    })\n    return data;\n  }\n\n  onDeleteDataSelect(rowId) {\n    let val = this.filterArrayData(rowId);\n    if (val['result']) {\n      this.notificationId.splice(val['index'], 1);\n    } else {\n      this.notificationId.push(rowId);\n    }\n  }\n\n  onDelete() {\n    if (this.notificationId.length != 0) {\n      this.globalService.presentLoading();\n      let formData = new FormData();\n      // console.log('this.notificationId', this.notificationId);\n      formData.append(\"id\", JSON.stringify(this.notificationId));\n      this.globalService.postData('notification/deleteNotificationByNotificationID', formData).subscribe(result => {\n        if (result && result['status']) {\n          this.onNotificationLoad();\n          // this.setValueOnLoadData();\n        }\n        this.globalService.presentToast(result['message']);\n        this.globalService.dismissLoading();\n      }), error => {\n        this.globalService.dismissLoading();\n        console.log('error', error);\n      }\n    }\n  }\n\n  //----------------------------------- Delete Notification ---------------------------------------------------------//\n\n  //----------------------------------- Re-direct on detail page --------------------------------------------------------//\n\n  onNotificationDetaliPage(rowID, formId, formType, isSeen) {\n\n    if (formType == this.globalService.formType_user) {\n      this.nav.navigateRoot(\"/home/safety-menu/incident-details/\" + formId);\n    } else if (formType == this.globalService.formType_investigator) {\n      this.nav.navigateForward('investigation-view/' + formId);\n    }\n    if (isSeen == 0) {\n      this.globalService.getData('notification/changeNotificationSeen/' + rowID).\n        subscribe(result => {\n          if (result['status']) {\n            this.sharedService.notViewNotiCount = this.sharedService.notViewNotiCount != 0 ? (this.sharedService.notViewNotiCount - 1) : 0;\n          }\n        }), error => {\n          console.log(\"error\", error);\n        }\n    }\n  }\n\n  //----------------------------------- Re-direct on detail page --------------------------------------------------------//\n}\n","import { Injectable, } from '@angular/core';\nimport { GlobalService } from 'src/app/services/global-service/global.service';\nimport { ActionSheetController } from '@ionic/angular';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SharedService {\n\n  notViewNotiCount: any = 0;\n\n  //------------------------------------------------------------------ Global Variable -------------------------------------------------------//\n\n  prestartMenu = [\n    {\n      menuName: 'LV', route: '#', favorite: false, position_in_list: 1\n    },\n    {\n      menuName: 'Forklift', route: '#', favorite: false, position_in_list: 2\n    },\n    {\n      menuName: 'Telehandler', route: '/home/safety-menu/telehandler-add-form', favorite: false, position_in_list: 3\n    },\n    {\n      menuName: 'Crane', route: '/home/safety-menu/crane-add-form', favorite: false, position_in_list: 4\n    },\n    {\n      menuName: 'Vehicle Hoist', route: '/home/safety-menu/vehicle-hoist-add-form', favorite: false, position_in_list: 5\n    },\n  ];\n\n  //------------------------------------------------------------------ Global Variable -------------------------------------------------------//\n\n  constructor(\n    private globalService: GlobalService,\n    public actionSheetController: ActionSheetController,\n    public camera: Camera\n  ) { }\n\n  getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  }\n\n  // fileToBase64 = (file) => {\n  //   let image: any;\n  //   let reader = new FileReader();\n  //   reader.onload = (function (file) {\n  //     return function (e) {\n  //       image = e.target.result;\n  //       this.base64Image = e.target.result;\n  //     };\n  //   })(file);\n  //   reader.readAsDataURL(file);\n  // };\n\n  // convertDataURIToBinary(dataURI) {\n  //   var BASE64_MARKER = ';base64,';\n  //   var base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length;\n  //   var base64 = dataURI.substring(base64Index);\n  //   var raw = window.atob(base64);\n  //   var rawLength = raw.length;\n  //   var array = new Uint8Array(new ArrayBuffer(rawLength));\n  //   for (let i = 0; i < rawLength; i++) {\n  //     array[i] = raw.charCodeAt(i);\n  //   }\n  //   return array;\n  // }\n\n  async mobileUploadImages() {\n    let images: any;\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Select Image source',\n      buttons: [\n        {\n          text: 'Load from Library',\n          handler: () => {\n            return images = this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY);\n          },\n        },\n        {\n          text: 'Use Camera',\n          handler: () => {\n            return images = this.pickImage(this.camera.PictureSourceType.CAMERA);\n          },\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n        },\n      ],\n    });\n    await actionSheet.present();\n  }\n\n  async pickImage(sourceType) {\n    const options: CameraOptions = {\n      quality: 100,\n      sourceType: sourceType,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n    };\n    await this.camera.getPicture(options).then(\n      (imageData) => {\n        console.log('imageData', imageData);\n        // const file = this.DataURIToBlob('data:image/jpeg;base64,' + imageData);\n        let image = 'data:image/jpeg;base64,' + imageData;\n        console.log('pickImage', image);\n        return image;\n      },\n      (err) => {\n        console.log(\"errOf Image \", err)\n      }\n    );\n  }\n\n  resize(event) {\n    return event.innerWidth ? event.innerWidth : event.target.innerWidth;\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJub3RpZmljYXRpb24ucGFnZS5zY3NzIn0= */\";","export default \"<ion-content>\\n  <app-header [pageName]=\\\"pName\\\"></app-header>\\n  <div class=\\\"container\\\">\\n\\n    <ion-row *ngIf=\\\"notificationData.length > 0\\\">\\n      <ion-col size=\\\"10\\\"></ion-col>\\n      <ion-col size=\\\"2\\\">\\n        <ion-icon name=\\\"trash\\\" (click)=\\\"onDelete()\\\"></ion-icon>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row *ngFor=\\\"let notification of notificationData; let i=index;\\\">\\n      <ion-col size-lg=\\\"2\\\" size-md=\\\"2\\\" size-sm=\\\"2\\\" size-xl=\\\"2\\\" size-xs=\\\"2\\\">\\n      </ion-col>\\n      <ion-col size-lg=\\\"1\\\" size-md=\\\"1\\\" size-sm=\\\"2\\\" size-xl=\\\"2\\\" size-xs=\\\"2\\\">\\n        <ion-checkbox (ionChange)=\\\"onDeleteDataSelect(notification.id)\\\"></ion-checkbox>\\n      </ion-col>\\n      <ion-col size-lg=\\\"7\\\" size-md=\\\"7\\\" size-sm=\\\"6\\\" size-xl=\\\"6\\\" size-xs=\\\"6\\\"\\n        (click)=\\\"onNotificationDetaliPage(notification.id,notification.form_id,notification.form_type, notification.is_seen)\\\">\\n        {{notification.message}}\\n      </ion-col>\\n      <ion-col size-lg=\\\"2\\\" size-md=\\\"2\\\" size-sm=\\\"2\\\" size-xl=\\\"2\\\" size-xs=\\\"2\\\"></ion-col>\\n    </ion-row>\\n\\n<!-- \\n    <ngx-datatable class=\\\"material\\\" [rows]=\\\"notificationData\\\" [headerHeight]=\\\"50\\\"\\n      [footerHeight]=\\\"50\\\" rowHeight=\\\"auto\\\" [externalPaging]=\\\"true\\\" [count]=\\\"totalElements\\\" [offset]=\\\"offset\\\"\\n      [limit]=\\\"size\\\" (page)=\\\"onNotificationLoad($event, '','web')\\\">\\n\\n      <ngx-datatable-column [minWidth]=\\\"10\\\" [resizeable]=\\\"true\\\" prop=\\\"id\\\">\\n        <ng-template let-value=\\\"value\\\" ngx-datatable-cell-template let-row=\\\"row\\\">\\n          <ion-checkbox (ionChange)=\\\"onDeleteDataSelect(value)\\\"></ion-checkbox>\\n        </ng-template>\\n      </ngx-datatable-column>\\n\\n      <ngx-datatable-column prop=\\\"message\\\" [minWidth]=\\\"50\\\" [resizeable]=\\\"true\\\">\\n        <ng-template let-value=\\\"value\\\" ngx-datatable-cell-template let-row=\\\"row\\\">\\n          <span title=\\\"Edit\\\" (click)=\\\"onNotificationDetaliPage(row)\\\">\\n           {{value}}\\n          </span>\\n        </ng-template>\\n      </ngx-datatable-column>\\n\\n      <div class=\\\"d-flex justify-content-center\\\">\\n        <pagination-controls previousLabel=\\\"Prev\\\" nextLabel=\\\"Next\\\" (pageChange)=\\\"loadData($event, '', 'web')\\\">\\n        </pagination-controls>\\n      </div>\\n\\n    </ngx-datatable> -->\\n\\n  </div>\\n</ion-content>\";"]}