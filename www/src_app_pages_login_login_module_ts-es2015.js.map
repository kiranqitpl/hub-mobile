{"version":3,"sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.ts","./src/app/services/global-service/global.service.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.html"],"names":[],"mappings":"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","file":"src_app_pages_login_login_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core'\nimport { NavController } from '@ionic/angular'\nimport { GlobalService } from '../../services/global-service/global.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { ToastService } from 'src/app/services/toast-service/toast.service';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss']\n})\nexport class LoginPage implements OnInit {\n  \n  ionicForm: FormGroup;\n  isSubmitted = false;\n  imageUrl = environment.imageUrl;\n\n\n  constructor(\n    private nav: NavController,\n    private global: GlobalService,\n    private formBuilder: FormBuilder,\n    private toastService: ToastService\n  ) { }\n\n  get errorControl() {\n    return this.ionicForm.controls\n  }\n\n  ngOnInit() {\n    this.ionicForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$')]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n    })\n  }\n\n  submitForm() {\n    this.isSubmitted = true\n    if (this.ionicForm.valid) {\n      this.global.presentLoading();\n      const fd = new FormData();\n      fd.append(\"email\", this.ionicForm.value.email);\n      fd.append(\"password\", this.ionicForm.value.password);\n      this.global.postData1(\"user/login\", fd).subscribe((res: any) => {\n        if (res.status) {\n          localStorage.setItem(\"email\", res.data.email);\n          localStorage.setItem(\"role\", res.data.role);\n          localStorage.setItem(\"id\", res?.data?.id);\n          localStorage.setItem(\"name\", res?.data?.full_name);\n          this.nav.navigateRoot('dashboard')\n          this.toastService.toast(res.message, 'success');\n        } else {\n          this.toastService.toast(res.message, 'danger');\n        }\n        this.global.dismissLoading();\n      }, err => {\n        this.global.dismissLoading();\n        console.log(\"errs\", err)\n      })\n    } else {\n      return false\n    }\n  }\n}\n","import { LoadingController, ToastController } from '@ionic/angular';\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { HTTP } from '@ionic-native/http';\nimport { Observable, Observer, of, Subject } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GlobalService {\n\n  baseUrl: string = 'https://mforms-api-devel.horts.com.au/';\n  baseUrl1: string = 'https://mforms-api-devel.horts.com.au/api/';\n\n  //Role \n  user: any = \"31\";\n  gm: any = \"32\";\n  investigator: any = \"33\";\n  manager: any = \"34\";\n  supervisior: any = \"35\";\n  formType_user = 1;\n  formType_investigator = 2;\n\n  constructor(\n    public toastController: ToastController,\n    public http: HttpClient,\n    public loadingController: LoadingController\n  ) { }\n\n  async presentToast(msg) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 2000,\n      mode: \"ios\",\n      color: \"dark\"\n    });\n    toast.present();\n  }\n\n  async toast(msg, type) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 2000,\n      // mode: \"ios\",\n      color: type,\n      animated: true,\n    });\n    toast.present();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Please wait...'\n    });\n    await loading.present();\n  }\n\n  async dismissLoading() {\n    await this.loadingController.dismiss();\n  }\n\n  setHeader() {\n    let header = new HttpHeaders()\n      .set('apikey', 'as*37486a*()HGY')\n      .set(\"Access-Control-Allow-Origin\", \"*\")\n      .set(\"Access-Control-Allow-Headers\", \"*\")\n      .set(\"Access-Control-Allow-Methods\", \"DELETE, POST, GET, OPTIONS\")\n      .set(\"Access-Control-Allow-Headers\", \"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\");\n    // if (localStorage.getItem(\"token\") && localStorage.getItem(\"token\") != \"\")\n    //   header.append(\"token\", localStorage.getItem(\"token\"));\n    return header;\n  }\n\n  getData(url) {\n    let headers = this.setHeader();\n    return this.http.get(this.baseUrl + url, { headers: headers });\n  }\n\n  postData(url, data) {\n    let headers = this.setHeader();\n    return this.http.post(this.baseUrl + url, data, { headers: headers });\n  }\n\n  // --------------------------------------------------New Services ---------------------------------------------//\n\n  postData1(url, data) {\n    let headers = this.setHeader();\n    return this.http.post(this.baseUrl1 + url, data, { headers: headers });\n  }\n\n  getData1(url) {\n    let headers = this.setHeader();\n    return this.http.get(this.baseUrl1 + url, { headers: headers });\n    // return this.http.get(this.baseUrl1 + url, { headers: headers }).pipe(\n    //   map((response) => {\n    //     console.log('response', response);\n    //     if (!response['status']) {\n    //       throw new Error('Value expected!');\n    //     }\n    //     response;\n    //   }),\n    //   catchError(() => of())\n    // );\n  }\n}\n// ---------------------------------------------  New Services --------------------------------------------------//","export default \"ion-content .container ion-item {\\n  color: white;\\n}\\nion-content .container ion-item ion-input {\\n  margin-top: 14px;\\n  --padding-top: 12px;\\n  --padding-bottom: 12px;\\n  --padding-start: 12px;\\n  --padding-end: 12px;\\n  color: white !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNFLFlBQUE7QUFETjtBQUVNO0VBQ0UsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBQVIiLCJmaWxlIjoibG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICAuY29udGFpbmVyIHtcbiAgICBpb24taXRlbSB7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBpb24taW5wdXQge1xuICAgICAgICBtYXJnaW4tdG9wOiAxNHB4O1xuICAgICAgICAtLXBhZGRpbmctdG9wOiAxMnB4O1xuICAgICAgICAtLXBhZGRpbmctYm90dG9tOiAxMnB4O1xuICAgICAgICAtLXBhZGRpbmctc3RhcnQ6IDEycHg7XG4gICAgICAgIC0tcGFkZGluZy1lbmQ6IDEycHg7XG4gICAgICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4iXX0= */\";","export default \"<ion-content>\\n  <div class=\\\"toolbar\\\">\\n    <ion-text>login</ion-text>\\n  </div>\\n  <div class=\\\"container\\\">\\n    <div class=\\\"ion-text-center logo\\\">\\n      <img src=\\\"{{imageUrl + 'login.png'}}\\\" />\\n    </div>\\n\\n    <form [formGroup]=\\\"ionicForm\\\" (ngSubmit)=\\\"submitForm()\\\" novalidate>\\n      <div class=\\\"ion-margin-top ion-margin-bottom \\\">\\n        <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n          <ion-label position=\\\"stacked\\\">Mail Id</ion-label>\\n          <ion-input placeholder=\\\"Enter Mail Id\\\" formControlName=\\\"email\\\" required type=\\\"email\\\"> </ion-input>\\n        </ion-item>\\n\\n        <span class=\\\"error ion-padding\\\" *ngIf=\\\"isSubmitted && errorControl.email.errors?.required\\\">\\n          Email is required.\\n        </span>\\n        <span class=\\\"error ion-padding\\\" *ngIf=\\\"isSubmitted && errorControl.email.errors?.pattern\\\">\\n          Please provide valid email id.\\n        </span>\\n\\n        <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n          <ion-label position=\\\"stacked\\\">Password</ion-label>\\n          <ion-input placeholder=\\\"Enter Password\\\" formControlName=\\\"password\\\" required type=\\\"password\\\"> </ion-input>\\n        </ion-item>\\n\\n        <span class=\\\"error ion-padding\\\" *ngIf=\\\"isSubmitted && errorControl.password.errors?.required\\\">\\n          password is required.\\n        </span>\\n        <span class=\\\"error ion-padding\\\" *ngIf=\\\"isSubmitted && errorControl.password.errors?.minlength\\\">\\n          Password must be at least 6 characters.\\n        </span>\\n\\n      </div>\\n      <ion-button class=\\\"btn\\\" type=\\\"submit\\\">\\n        Login\\n      </ion-button>\\n    </form>\\n  </div>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}