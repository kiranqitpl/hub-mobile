<ion-content (window:resize)="onResize($event)">

  <app-header [pageName]="pName"></app-header>

  <div class="container">
    <!-- <div class="ion-margin-top ion-margin-bottom"> -->
    <ion-list *ngIf="getScreenWidth < 800">

      <ion-card *ngFor="let incidentRow of incidentList">
        <ion-item-sliding>
          <ion-item lines="none">
            <!-- <ion-avatar slot="start"></ion-avatar> -->
            <ion-label>
              <ion-row>
                <ion-col size="auto">
                  <h2>Form :</h2>
                </ion-col>
                <ion-col>
                  <h6> {{incidentRow.incident_value}} </h6>
                </ion-col>
              </ion-row>

              <ion-row>
                <ion-col size="auto">
                  <ion-label>Date :</ion-label>
                </ion-col>
                <ion-col>
                  <p class="value">
                    {{incidentRow.created_date}}
                  </p>
                </ion-col>
              </ion-row>

              <ion-row>
                <ion-col size="auto">
                  <ion-label>Name :</ion-label>
                </ion-col>
                <ion-col>
                  <p class="value"> {{incidentRow.created_date}}</p>
                </ion-col>
              </ion-row>

              <ion-row>
                <ion-col size="auto">
                  <ion-label>Delegated :</ion-label>
                </ion-col>
                <ion-col>
                  <p class="value"> {{incidentRow.created_date}}</p>
                </ion-col>
              </ion-row>

              <ion-row>
                <ion-col size="auto">
                  <ion-label>Status :</ion-label>
                </ion-col>
                <ion-col>
                  <p class="value">{{incidentRow.created_date}}</p>
                </ion-col>
              </ion-row>

            </ion-label>
          </ion-item>

          <ion-item-options side="end">
            <ion-item-option class="item-option">
              <ion-icon slot="icon-only" (click)="onGoToDetails(incidentRow.id)" name="eye-outline"></ion-icon>
            </ion-item-option>

            <ion-item-option class="item-option">
              <ion-icon slot="icon-only" (click)="onGoToEdit(incidentRow.id)" name="create-outline"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-card>

      <div *ngIf="incidentList.length > 0" class="ion-margin-top ion-text-center"> <a href="#"
          (click)="onLoadMore()">Load More </a></div>
    </ion-list>

    <ngx-datatable [scrollbarH]="true" class="material" [limit]="10" [rows]="incidentList" [rowHeight]="50"
      [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" *ngIf="getScreenWidth >= 800">

      <ngx-datatable-column name="Sr.No" [width]="80" [resizeable]="true">
        <ng-template let-rowIndex="rowIndex" let-value="rows" ngx-datatable-cell-template>{{ (rowIndex+1) }}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Form" prop="incident_value" [minWidth]="100" [resizeable]="true">
      </ngx-datatable-column>

      <ngx-datatable-column name="Date" prop="created_date" [minWidth]="100" [resizeable]="true">
      </ngx-datatable-column>

      <ngx-datatable-column name="Name" prop="created_time" [minWidth]="100" [resizeable]="true">
      </ngx-datatable-column>

      <ngx-datatable-column name="Delegated" prop="classification_manager" [minWidth]="100" [resizeable]="true">
      </ngx-datatable-column>

      <ngx-datatable-column name="Status" prop="complete_status" [minWidth]="100" [resizeable]="true">
      </ngx-datatable-column>

      <ngx-datatable-column [minWidth]="50" [resizeable]="true" prop="id">
        <ng-template let-column="column" ngx-datatable-header-template>View</ng-template>
        <ng-template let-value="value" ngx-datatable-cell-template>
          <ion-icon class="view" slot="icon-only" name="eye-outline" (click)="onGoToDetails(value)"></ion-icon>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column [minWidth]="30" [resizeable]="true" prop="edit_status">
        <ng-template let-column="column" ngx-datatable-header-template>Edit</ng-template>
        <ng-template let-value="value" ngx-datatable-cell-template let-row="row">
          <ion-icon *ngIf="value == false" class="view icon-disabled" slot="icon-only" name="create-outline">
          </ion-icon>
          <ion-icon *ngIf="value == true" class="view" slot="icon-only" name="create-outline" (click)="onGoToEdit(row)">
          </ion-icon>
        </ng-template>
      </ngx-datatable-column>

    </ngx-datatable>

    <!-- <ngx-datatable [scrollbarH]="true" class="material" [limit]="10" [rows]="rows" [rowHeight]="50"
        [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" (activate)="onActivate($event)">

        <ngx-datatable-column name="Sr.No" [width]="80" [resizeable]="true">
          <ng-template let-rowIndex="rowIndex" let-value="rows" ngx-datatable-cell-template>{{ (rowIndex+1) }}
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Incident Type" prop="incident_value" [minWidth]="150" [resizeable]="true">
        </ngx-datatable-column>

        <ngx-datatable-column name="Incident Date" [minWidth]="150" [resizeable]="true" prop="created_date">
        </ngx-datatable-column>

        <ngx-datatable-column name="Incident Time" prop="created_time" [minWidth]="150" [resizeable]="true">
        </ngx-datatable-column>

        <ngx-datatable-column name="Assigned Manager" prop="classification_manager" [minWidth]="150"
          [resizeable]="true">
        </ngx-datatable-column>

        <ngx-datatable-column name="Status" prop="complete_status" [minWidth]="150" [resizeable]="true">
        </ngx-datatable-column>

        <ngx-datatable-column [minWidth]="50" [resizeable]="true" prop="id">
          <ng-template let-column="column" ngx-datatable-header-template>View</ng-template>
          <ng-template let-value="value" ngx-datatable-cell-template>
            <ion-icon class="view" slot="icon-only" name="eye-outline" (click)="onGoToDetails(value)"></ion-icon>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column [minWidth]="50" [resizeable]="true" prop="edit_status">
          <ng-template let-column="column" ngx-datatable-header-template>Edit</ng-template>
          <ng-template let-value="value" ngx-datatable-cell-template let-row="row">
            <ion-icon *ngIf="value == false" class="view icon-disabled" slot="icon-only" name="create-outline">
            </ion-icon>
            <ion-icon *ngIf="value == true" class="view" slot="icon-only" name="create-outline"
              (click)="onGoToEdit(row)">
            </ion-icon>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column [minWidth]="230" [resizeable]="true" prop="ivalue" [resizeable]="true">
          <ng-template let-column="column" ngx-datatable-header-template>Assign Investigator</ng-template>
          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
            <ion-item *ngIf="row.assign_investigator_status == true" class="ion-no-padding ion-no-margin dropDownStyle"
              lines="none">
              <ion-select placeholder="Select Investigator" value={{value}}
                (ionChange)="onAssignInvestigator($event, row)">
                <ion-select-option value="{{item?.employee_id}}" *ngFor="let item of listOfUsers">{{item?.full_name}}
                </ion-select-option>
              </ion-select>
            </ion-item>

            <ion-item *ngIf="row.assign_investigator_status == false" disabled="true"
              class="ion-no-padding ion-no-margin dropDownStyle" lines="none">
              <ion-select placeholder="Select Investigator" value={{value}}>
                <ion-select-option value="{{item?.employee_id}}" *ngFor="let item of listOfUsers">{{item?.full_name}}
                </ion-select-option>
              </ion-select>
            </ion-item>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column [minWidth]="50" [resizeable]="true" prop="id" prop="investigation_form_status">
          <ng-template let-column="column" ngx-datatable-header-template>Investigation</ng-template>
          <ng-template let-value="value" ngx-datatable-cell-template let-row="row">
            <ion-icon *ngIf="value == false" class="view icon-disabled" slot="icon-only" name="create-outline">
            </ion-icon>
            <ion-icon *ngIf="value == true" class="view" slot="icon-only" name="create-outline"
              (click)="onGoToInvestigation(row)"></ion-icon>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column [minWidth]="150" [resizeable]="true" prop="view_investigation_status">
          <ng-template let-column="column" ngx-datatable-header-template>View Investigation</ng-template>
          <ng-template let-value="value" ngx-datatable-cell-template let-row="row">
            <ion-icon *ngIf="value == false" class="view icon-disabled" slot="icon-only" name="eye-outline">
            </ion-icon>
            <ion-icon *ngIf="value == true" class="view" slot="icon-only" name="eye-outline"
              (click)="onViewInvestigation(row)"></ion-icon>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column [minWidth]="50" [resizeable]="true" prop="actions_status">
          <ng-template let-column="column" ngx-datatable-header-template>Actions</ng-template>
          <ng-template let-value="value" ngx-datatable-cell-template let-row="row">
            <ion-icon *ngIf="value == false" class="view icon-disabled" slot="icon-only" name="create-outline">
            </ion-icon>
            <ion-icon *ngIf="value == true" class="view" slot="icon-only" name="create-outline"
              (click)="onGoToActions(row)"></ion-icon>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column [minWidth]="50" [resizeable]="true" prop="view_actions_status">
          <ng-template let-column="column" ngx-datatable-header-template> View Actions </ng-template>
          <ng-template let-value="value" ngx-datatable-cell-template let-row="row">
            <ion-icon *ngIf="value == false" class="view icon-disabled" slot="icon-only" name="eye-outline">
            </ion-icon>
            <ion-icon *ngIf="value == true" class="view" slot="icon-only" name="eye-outline" (click)="onViewAction(row)">
            </ion-icon>
          </ng-template>
        </ngx-datatable-column>
      </ngx-datatable> -->
    <!-- </div> -->
  </div>
</ion-content>