(self.webpackChunkhub=self.webpackChunkhub||[]).push([[9789],{39789:function(e,t,o){"use strict";o.r(t),o.d(t,{FavouriteFormPageModule:function(){return h}});var i=o(38583),r=o(90665),n=o(47823),a=o(10649),s=o(10639),c=o(89985),u=o(45311),l=o(68366);function m(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"span",7),s.TgZ(1,"ion-row"),s.TgZ(2,"ion-col",8),s._UZ(3,"ion-reorder"),s.qZA(),s.TgZ(4,"ion-col",9),s._uU(5),s.qZA(),s.TgZ(6,"ion-col",10),s.TgZ(7,"span",11),s.NdJ("click",function(){s.CHM(e);const t=s.oxw().$implicit;return s.oxw().onRemoveFavorite(t.menuName,!1)}),s._UZ(8,"ion-icon",12),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(4),s.Q6J("routerLink",e.route),s.xp6(1),s.hij(" ",e.menuName," ")}}function p(e,t){if(1&e&&(s.TgZ(0,"span"),s.YNc(1,m,9,2,"span",6),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",1==e.favorite||"true"==e.favorite)}}const d=[{path:"",component:(()=>{class e{constructor(e,t,o){this.globalService=e,this.toastService=t,this.nav=o,this.pName="Favourite form",this.menuData=[],this.updateRowId=""}ngOnInit(){this.loadFavoriteList()}loadFavoriteList(){this.globalService.getData("PrestartMenu/get_PrestartMenu").subscribe(e=>{e.status?(this.menuData=e.data.menu.sort((e,t)=>e.favorite_position-t.favorite_position),this.updateRowId=e.data.id):this.menuData=[]},e=>{console.log(e)})}onRemoveFavorite(e,t){this.menuData.filter(o=>{o.menuName==e&&(o.favorite=t)}),this.updateMenu("remove")}updateMenu(e){this.globalService.postData("PrestartMenu/submit",{formData:{id:this.updateRowId,menu:this.menuData}}).subscribe(t=>{t.status&&""!=e&&"remove"==e&&this.toastService.toast("This form is removed from your favourite list.","success")},e=>{console.log(e)})}onRenderItems(e){let t=this.menuData.splice(e.detail.from,1)[0];this.menuData.splice(e.detail.to,0,t),e.detail.complete(),this.menuData.forEach((e,t)=>{e.favorite_position=t}),this.menuData.sort((e,t)=>e.favorite_position-t.favorite_position),this.updateMenu("")}onGoToPage(e){this.nav.navigateForward(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c.U),s.Y36(u.k),s.Y36(n.SH))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-favourite-form"]],decls:9,vars:2,consts:[[3,"pageName"],[1,"container"],["size-lg","3","size-md","3"],["size-lg","6","size-md","6","size-sm","12","size-xl","6","size-xs","12"],["disabled","false",3,"ionItemReorder"],[4,"ngFor","ngForOf"],["class","btn-blue",4,"ngIf"],[1,"btn-blue"],["size-lg","4","size-md","4","size-sm","4","size-xl","4","size-xs","4",1,"reorder"],["size-lg","4","size-md","4","size-sm","4","size-xl","4","size-xs","4",3,"routerLink"],["size-lg","4","size-md","4","size-sm","4","size-xl","4","size-xs","4"],["title","Remove from favourite",3,"click"],["name","heart",1,"favourite"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-content"),s._UZ(1,"app-header",0),s.TgZ(2,"div",1),s.TgZ(3,"ion-row"),s._UZ(4,"ion-col",2),s.TgZ(5,"ion-col",3),s.TgZ(6,"ion-reorder-group",4),s.NdJ("ionItemReorder",function(e){return t.onRenderItems(e)}),s.YNc(7,p,2,1,"span",5),s.qZA(),s.qZA(),s._UZ(8,"ion-col",2),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("pageName",t.pName),s.xp6(6),s.Q6J("ngForOf",t.menuData))},directives:[n.W2,l.G,n.Nd,n.wI,n.oz,i.sg,i.O5,n.Nh,n.YI,a.rH,n.gu],styles:[".reorder[_ngcontent-%COMP%]{opacity:0!important}.btn-blue[_ngcontent-%COMP%]{background:#3880ff;background:var(--ion-color-primary,#3880ff);--color:var(--ion-color-primary-contrast,#fff);width:100%;border-radius:23px;--border-radius:23px;font-family:mon-bold;color:var(--ion-color-primary-contrast);--background:var(--theme-blue-color);height:50px;overflow:hidden;margin-top:13px;text-transform:capitalize;font-size:16px;margin-bottom:8px;display:block;line-height:2.5;text-align:center}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild(d)],a.Bz]}),e})();var g=o(69270);let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,r.u5,n.Pc,f,g.I]]}),e})()}}]);