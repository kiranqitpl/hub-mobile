!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(self.webpackChunkhub=self.webpackChunkhub||[]).push([[6745],{96745:function(n,o,i){"use strict";i.r(o),i.d(o,{DashboardPageModule:function(){return w}});var r=i(38583),a=i(90665),c=i(47823),u=i(10649),s=i(92340),l=i(10639),d=i(89985),f=i(49481),g=i(68366);function m(e,n){if(1&e&&(l.TgZ(0,"ion-badge",11),l._uU(1),l.qZA()),2&e){var t=l.oxw(2);l.xp6(1),l.hij(" ",t.sharedService.notViewNotiCount,"")}}function h(e,n){if(1&e&&(l.TgZ(0,"div"),l.TgZ(1,"ion-button",9),l._uU(2),l.YNc(3,m,2,1,"ion-badge",10),l.qZA(),l.qZA()),2&e){var t=n.$implicit,o=l.oxw();l.xp6(1),l.Q6J("routerLink",t.route),l.xp6(1),l.hij(" ",t.menuName," "),l.xp6(1),l.Q6J("ngIf","Notification"==t.menuName&&0!=o.sharedService.notViewNotiCount)}}var p,v,b=[{path:"",component:(p=function(){function n(t,o,i){e(this,n),this.nav=t,this.global=o,this.sharedService=i,this.menu=[{menuName:"Favourites",route:"/dashboard/favourite-form"},{menuName:"Submitted Forms",route:"/incident-form-list"},{menuName:"Notification",route:"/dashboard/notification"}],this.type=s.N.allType,this.imageUrl=s.N.imageUrl,this.pName="Dashboard"}return t(n,[{key:"ngOnInit",value:function(){this.loggedInUserDetails=JSON.parse(localStorage.getItem("userDetails")),this.onNotificationLoad()}},{key:"onLogOut",value:function(){localStorage.clear(),this.nav.navigateRoot("login")}},{key:"onNotificationLoad",value:function(){var e=this;this.global.getData("notification/getNotificationList/"+this.loggedInUserDetails.id).subscribe(function(n){if(n&&n.row_count>0){var t=0;n.data.forEach(function(e){0==e.is_seen&&(t+=1)}),e.sharedService.notViewNotiCount=t}else e.sharedService.notViewNotiCount=0})}},{key:"onAddForm",value:function(){this.nav.navigateForward("home")}}]),n}(),p.\u0275fac=function(e){return new(e||p)(l.Y36(c.SH),l.Y36(d.U),l.Y36(f.F))},p.\u0275cmp=l.Xpm({type:p,selectors:[["app-dashboard"]],decls:22,vars:3,consts:[[3,"pageName"],[1,"container"],["size-lg","3","size-md","3"],["size-lg","6","size-md","6","size-sm","12","size-xl","6","size-xs","12"],[1,"addForm",3,"click"],[3,"src"],[1,"addF"],[4,"ngFor","ngForOf"],[1,"btn","logouts",3,"click"],[1,"btn",3,"routerLink"],["class","badge","color","danger",4,"ngIf"],["color","danger",1,"badge"]],template:function(e,n){1&e&&(l.TgZ(0,"ion-content"),l._UZ(1,"app-header",0),l.TgZ(2,"div",1),l.TgZ(3,"ion-row"),l._UZ(4,"ion-col",2),l.TgZ(5,"ion-col",3),l.TgZ(6,"div",4),l.NdJ("click",function(){return n.onAddForm()}),l._UZ(7,"img",5),l.TgZ(8,"p",6),l._uU(9,"ADD FORM"),l.qZA(),l.qZA(),l.qZA(),l._UZ(10,"ion-col",2),l.qZA(),l.TgZ(11,"ion-row"),l._UZ(12,"ion-col",2),l.TgZ(13,"ion-col",3),l.YNc(14,h,4,3,"div",7),l.qZA(),l._UZ(15,"ion-col",2),l.qZA(),l.TgZ(16,"ion-row"),l._UZ(17,"ion-col",2),l.TgZ(18,"ion-col",3),l.TgZ(19,"ion-button",8),l.NdJ("click",function(){return n.onLogOut()}),l._uU(20," Logout "),l.qZA(),l.qZA(),l._UZ(21,"ion-col",2),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("pageName",n.pName),l.xp6(6),l.s9C("src",n.imageUrl+"form.png",l.LSH),l.xp6(7),l.Q6J("ngForOf",n.menu))},directives:[c.W2,g.G,c.Nd,c.wI,r.sg,c.YG,c.YI,u.rH,r.O5,c.yp],styles:["ion-content[_ngcontent-%COMP%]   .addForm[_ngcontent-%COMP%]{align-items:center;align-self:center;align-content:center;justify-content:center;text-align:center;padding:40px;border:2px dashed #c3c3c3;border-radius:20px;margin:40px 7px 7px}ion-content[_ngcontent-%COMP%]   .addF[_ngcontent-%COMP%]{font-family:mon-bold;font-size:17px;text-transform:capitalize;color:var(--white-color)}"]}),p)},{path:"favourite-form",loadChildren:function(){return Promise.all([i.e(8592),i.e(9789)]).then(i.bind(i,39789)).then(function(e){return e.FavouriteFormPageModule})}},{path:"notification",loadChildren:function(){return i.e(6484).then(i.bind(i,86484)).then(function(e){return e.NotificationPageModule})}}],y=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[u.Bz.forChild(b)],u.Bz]}),n}(),Z=i(69270),w=((v=function n(){e(this,n)}).\u0275fac=function(e){return new(e||v)},v.\u0275mod=l.oAB({type:v}),v.\u0275inj=l.cJS({imports:[[r.ez,a.u5,c.Pc,y,Z.I]]}),v)},49481:function(n,o,i){"use strict";i.d(o,{F:function(){return l}});var r=i(64762),a=i(10639),c=i(89985),u=i(47823),s=i(84267),l=function(){var n=function(){function n(t,o,i){e(this,n),this.globalService=t,this.actionSheetController=o,this.camera=i,this.notViewNotiCount=0}return t(n,[{key:"getBase64",value:function(e){return new Promise(function(n,t){var o=new FileReader;o.readAsDataURL(e),o.onload=function(){return n(o.result)},o.onerror=function(e){return t(e)}})}},{key:"downloadPdf",value:function(e,n){var t=document.createElement("a");t.href=e,t.download=n,t.click()}},{key:"mobileUploadImages",value:function(){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actionSheetController.create({header:"Select Image source",buttons:[{text:"Load from Library",handler:function(){return t.pickImage(t.camera.PictureSourceType.PHOTOLIBRARY)}},{text:"Use Camera",handler:function(){return t.pickImage(t.camera.PictureSourceType.CAMERA)}},{text:"Cancel",role:"cancel"}]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"pickImage",value:function(e){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t={quality:100,sourceType:e,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE},n.next=3,this.camera.getPicture(t).then(function(e){return"data:image/jpeg;base64,"+e},function(e){console.log("errOf Image ",e)});case 3:case"end":return n.stop()}},n,this)}))}},{key:"resize",value:function(e){return e.innerWidth?e.innerWidth:e.target.innerWidth}},{key:"progressBar",value:function(e,n){var t=0;e.forEach(function(e){n.value[e]&&""!=n.value[e]&&(t=++t)});var o=1/Object.keys(e).length*t;return{form_percent:o,form_percent_val:parseInt((100*o).toFixed())}}},{key:"autoScroll",value:function(e,n){return e.scrollToPoint(0,n.nativeElement.scrollHeight,8e3)}}]),n}();return n.\u0275fac=function(e){return new(e||n)(a.LFG(c.U),a.LFG(u.BX),a.LFG(s.V1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()}}])}();