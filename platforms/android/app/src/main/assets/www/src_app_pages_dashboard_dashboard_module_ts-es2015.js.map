{"version":3,"sources":["./src/app/pages/dashboard/dashboard-routing.module.ts","./src/app/pages/dashboard/dashboard.module.ts","./src/app/pages/dashboard/dashboard.page.ts","./src/app/services/global-service/global.service.ts","./src/app/services/shared-service/shared.service.ts","./src/app/pages/dashboard/dashboard.page.scss","./src/app/pages/dashboard/dashboard.page.html"],"names":[],"mappings":"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","file":"src_app_pages_dashboard_dashboard_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DashboardPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPageRoutingModule } from './dashboard-routing.module';\n\nimport { DashboardPage } from './dashboard.page';\nimport { HeaderComponent } from 'src/app/shared-component/header/header.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DashboardPageRoutingModule\n  ],\n  declarations: [\n    DashboardPage,\n    HeaderComponent\n  ]\n})\nexport class DashboardPageModule {}\n","import { NavController } from '@ionic/angular';\nimport { Component, OnInit } from '@angular/core';\nimport { GlobalService } from '../../services/global-service/global.service';\nimport { environment } from 'src/environments/environment';\nimport { SharedService } from 'src/app/services/shared-service/shared.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\nexport class DashboardPage implements OnInit {\n\n  data: any = [];\n  role: any;\n  userRole: any;\n  gmRole: any;\n  investigatorRole: any;\n  managerRole: any;\n  supervisorRole: any;\n  userId: string;\n  roleId: string;\n  type: any = environment.allType;\n  imageUrl = environment.imageUrl;\n\n  constructor(\n    private nav: NavController,\n    private global: GlobalService,\n    private sharedService: SharedService\n  ) { }\n\n  ngOnInit() {\n    this.userId = localStorage.getItem('id');\n    this.roleId = localStorage.getItem('role');\n    this.onNotificationLoad();\n  }\n\n  ionViewWillEnter() {\n    this.userRole = this.global.user;\n    this.gmRole = this.global.gm;\n    this.investigatorRole = this.global.investigator;\n    this.managerRole = this.global.manager;\n    this.supervisorRole = this.global.supervisior\n    this.role = localStorage.getItem(\"role\");\n    if (this.role == this.userRole) {\n      this.data = [\"Previous Form\", \"Notification\"]\n    } else {\n      this.data = [\"Submitted Form\", \"Notification\"]\n    }\n  }\n\n  onNavGo(item) {\n    if (item === 'Previous Form' || item == 'Submitted Form') {\n      this.nav.navigateForward(\"/incident-form-list\");\n    } else if ((localStorage.getItem(\"role\") != this.userRole) && (item === 'Notification') && this.sharedService.notViewNotiCount != 0) {\n      this.nav.navigateForward(\"/notification\");\n    }\n  }\n\n  onLogOut() {\n    localStorage.clear();\n    this.nav.navigateRoot(\"login\")\n  }\n\n  onNotificationLoad() {\n    let formData = new FormData();\n    formData.append(\"type\", this.type);\n    formData.append(\"user_id\", this.userId);\n    let url = \"\";\n    if (this.roleId == this.global.investigator) {\n      url = 'api/notification/getInvestigatorNotificationByInvestigatorID';\n    } else if (this.roleId == this.global.gm) {\n      url = 'api/notification/getGMNotificationByGmID';\n    }\n    if (url != \"\") {\n      this.global.postData(url, formData).subscribe(result => {\n        console.log('onNotificationLoad', result);\n        if (result['status']) {\n          let count: number = 0;\n          result['data'].forEach(element => {\n            if (element.is_seen == 0) {\n              count = count + 1;\n            }\n          });\n          this.sharedService.notViewNotiCount = count\n        } else {\n          this.sharedService.notViewNotiCount = 0\n          console.log('error');\n        }\n      }), error => {\n        console.log('error', error);\n      }\n    } else {\n      console.log(\"error\");\n    }\n  }\n\n  onAddForm() {\n    this.nav.navigateForward(\"home\")\n  }\n}\n","import { LoadingController, ToastController } from '@ionic/angular';\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { HTTP } from '@ionic-native/http';\nimport { Observable, Observer, of, Subject } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GlobalService {\n\n  baseUrl: string = 'https://mforms-api-devel.horts.com.au/';\n  baseUrl1: string = 'https://mforms-api-devel.horts.com.au/api/';\n\n  //Role \n  user: any = \"31\";\n  gm: any = \"32\";\n  investigator: any = \"33\";\n  manager: any = \"34\";\n  supervisior: any = \"35\";\n  formType_user = 1;\n  formType_investigator = 2;\n\n  constructor(\n    public toastController: ToastController,\n    public http: HttpClient,\n    public loadingController: LoadingController\n  ) { }\n\n  async presentToast(msg) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 2000,\n      mode: \"ios\",\n      color: \"dark\"\n    });\n    toast.present();\n  }\n\n  async toast(msg, type) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 2000,\n      // mode: \"ios\",\n      color: type,\n      animated: true,\n    });\n    toast.present();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Please wait...'\n    });\n    await loading.present();\n  }\n\n  async dismissLoading() {\n    await this.loadingController.dismiss();\n  }\n\n  setHeader() {\n    let header = new HttpHeaders()\n      .set('apikey', 'as*37486a*()HGY')\n      .set(\"Access-Control-Allow-Origin\", \"*\")\n      .set(\"Access-Control-Allow-Headers\", \"*\")\n      .set(\"Access-Control-Allow-Methods\", \"DELETE, POST, GET, OPTIONS\")\n      .set(\"Access-Control-Allow-Headers\", \"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\");\n    // if (localStorage.getItem(\"token\") && localStorage.getItem(\"token\") != \"\")\n    //   header.append(\"token\", localStorage.getItem(\"token\"));\n    return header;\n  }\n\n  getData(url) {\n    let headers = this.setHeader();\n    return this.http.get(this.baseUrl + url, { headers: headers });\n  }\n\n  postData(url, data) {\n    let headers = this.setHeader();\n    return this.http.post(this.baseUrl + url, data, { headers: headers });\n  }\n\n  // --------------------------------------------------New Services ---------------------------------------------//\n\n  postData1(url, data) {\n    let headers = this.setHeader();\n    return this.http.post(this.baseUrl1 + url, data, { headers: headers });\n  }\n\n  getData1(url) {\n    let headers = this.setHeader();\n    return this.http.get(this.baseUrl1 + url, { headers: headers });\n    // return this.http.get(this.baseUrl1 + url, { headers: headers }).pipe(\n    //   map((response) => {\n    //     console.log('response', response);\n    //     if (!response['status']) {\n    //       throw new Error('Value expected!');\n    //     }\n    //     response;\n    //   }),\n    //   catchError(() => of())\n    // );\n  }\n}\n// ---------------------------------------------  New Services --------------------------------------------------//","import { Injectable, } from '@angular/core';\nimport { GlobalService } from '../global-service/global.service';\nimport { ActionSheetController } from '@ionic/angular';\nimport { Camera, CameraOptions } from '@ionic-native/Camera/ngx';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SharedService {\n\n  notViewNotiCount: any = 0;\n\n  constructor(\n    private globalService: GlobalService,\n    public actionSheetController: ActionSheetController,\n    public camera: Camera\n  ) { }\n\n\n  // notificationLoad(formData) {\n  //   let roleId = localStorage.getItem('role');\n  //   let url = \"\";\n\n  //   if (roleId) {\n  //     if (roleId == this.globalService.investigator) {\n  //       url = 'api/notification/getInvestigatorNotificationByInvestigatorID';\n  //     } else if (roleId == this.globalService.gm) {\n  //       url = 'api/notification/getGMNotificationByGmID';\n  //     }\n  //   }\n\n  //   if (url != \"\") {\n  //     new Promise((resolve, reject) => {\n  //       this.globalService.postData(url, formData).subscribe(result => {\n  //         console.log('notificationLoad', result);\n  //         if (result['status']) {\n  //           let count: number = 0;\n  //           result['data'].forEach(element => {\n  //             if (element.is_seen == 0) {\n  //               count = count + 1;\n  //             }\n  //           });\n  //           this.notViewNotiCount = count;\n  //           return result['data'];\n  //         } else {\n  //           console.log('error');\n  //         }\n  //         setTimeout(function () {\n  //           resolve(\"Success!\");\n  //         });\n  //       });\n  //     });\n  //   }\n  // }\n\n  getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  }\n\n  // fileToBase64 = (file) => {\n  //   let image: any;\n  //   let reader = new FileReader();\n  //   reader.onload = (function (file) {\n  //     return function (e) {\n  //       image = e.target.result;\n  //       this.base64Image = e.target.result;\n  //     };\n  //   })(file);\n  //   reader.readAsDataURL(file);\n  // };\n\n  // convertDataURIToBinary(dataURI) {\n  //   var BASE64_MARKER = ';base64,';\n  //   var base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length;\n  //   var base64 = dataURI.substring(base64Index);\n  //   var raw = window.atob(base64);\n  //   var rawLength = raw.length;\n  //   var array = new Uint8Array(new ArrayBuffer(rawLength));\n  //   for (let i = 0; i < rawLength; i++) {\n  //     array[i] = raw.charCodeAt(i);\n  //   }\n  //   return array;\n  // }\n\n\n  async mobileUploadImages() {\n    let images: any;\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Select Image source',\n      buttons: [\n        {\n          text: 'Load from Library',\n          handler: () => {\n            return images = this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY);\n          },\n        },\n        {\n          text: 'Use Camera',\n          handler: () => {\n            return images = this.pickImage(this.camera.PictureSourceType.CAMERA);\n          },\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n        },\n      ],\n    });\n    await actionSheet.present();\n  }\n\n  pickImage(sourceType) {\n    console.log('sourceType', sourceType);\n    const options: CameraOptions = {\n      quality: 100,\n      sourceType: sourceType,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n    };\n    this.camera.getPicture(options).then(\n      (imageData) => {\n        console.log('imageData', imageData);\n        // const file = this.DataURIToBlob('data:image/jpeg;base64,' + imageData);\n        let image = 'data:image/jpeg;base64,' + imageData;\n        return image;\n      },\n      (err) => {\n        console.log(\"errOf Image \", err)\n      }\n    );\n  }\n}\n","export default \"ion-content .addForm {\\n  align-items: center;\\n  align-self: center;\\n  align-content: center;\\n  justify-content: center;\\n  text-align: center;\\n  padding: 40px;\\n  border: 2px dashed #c3c3c3;\\n  border-radius: 20px;\\n  margin: 7px;\\n  margin-top: 40px;\\n}\\nion-content .addF {\\n  font-family: \\\"mon-bold\\\";\\n  font-size: 17px;\\n  text-transform: capitalize;\\n  color: var(--white-color);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhc2hib2FyZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLDBCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUFBSjtBQUVFO0VBQ0UsdUJBQUE7RUFDQSxlQUFBO0VBQ0EsMEJBQUE7RUFFQSx5QkFBQTtBQURKIiwiZmlsZSI6ImRhc2hib2FyZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC5hZGRGb3JtIHtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDQwcHg7XG4gICAgYm9yZGVyOiAycHggZGFzaGVkICNjM2MzYzM7XG4gICAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgICBtYXJnaW46IDdweDtcbiAgICBtYXJnaW4tdG9wOiA0MHB4O1xuICB9XG4gIC5hZGRGIHtcbiAgICBmb250LWZhbWlseTogXCJtb24tYm9sZFwiO1xuICAgIGZvbnQtc2l6ZTogMTdweDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgICAvLyBjb2xvcjogdmFyKC0tYmxhY2stY29sb3IpO1xuICAgIGNvbG9yOiB2YXIoLS13aGl0ZS1jb2xvcik7XG4gIH1cbn1cbiJdfQ== */\";","export default \"<ion-content>\\n  <div class=\\\"toolbar\\\">\\n    <ion-text>Dashboard</ion-text>\\n    <ion-buttons class='logout' slot=\\\"end\\\">\\n      <ion-button (click)=\\\"onLogOut()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"log-out-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </div>\\n\\n  <div class=\\\"container\\\">\\n    <div class=\\\"addForm\\\" (click)=\\\"onAddForm()\\\" *ngIf=\\\"roleId != gmRole\\\">\\n      <img src=\\\"{{imageUrl + 'form.png'}}\\\" />\\n      <p class=\\\" addF\\\">ADD FORM</p>\\n    </div>\\n    <div *ngFor=\\\"let tabVal of data\\\">\\n      <ion-button class=\\\"btn\\\" (click)=\\\"onNavGo(tabVal)\\\">\\n        {{tabVal}}\\n        <ion-badge class=\\\"badge\\\"\\n          *ngIf=\\\"tabVal == 'Notification' && sharedService.notViewNotiCount != 0 && roleId != userRole \\\" color=\\\"danger\\\">\\n          {{sharedService.notViewNotiCount}}</ion-badge>\\n      </ion-button>\\n    </div>\\n    <ion-button class=\\\"btn logouts\\\" (click)=\\\"onLogOut()\\\">\\n      Logout\\n    </ion-button>\\n  </div>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}